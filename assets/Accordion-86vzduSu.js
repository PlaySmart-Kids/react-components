import{j as u}from"./jsx-runtime-CkxqCPlQ.js";import{r as o}from"./index-DJO9vBfz.js";import{G as y,a as C,e as q,f as R}from"./DefaultThemeProvider-Ce-zb_Sa.js";import{P as r}from"./ColorUtil-b9QtJkc2.js";import"./useTimeout-BASJc2V5.js";import{u as N}from"./useRipple-BbkXZzvg.js";const T="_AccordionRoot_1gwuu_1",j="_AccordionHeader_1gwuu_6",P="_AccordionBody_1gwuu_14",p={AccordionRoot:T,AccordionHeader:j,AccordionBody:P};function h(e){const{noRippleEffect:m,className:E,style:_,onChange:f,title:H,children:A,color:k,highlightWhenSelected:s,hue:v}=e,[g,x]=o.useState(),[S,V]=o.useState(),a=o.useRef(),d=q(k),i=R(v),c=e.expanded!==void 0?e.expanded:g===void 0?!1:g,b=N(a,a,c&&s?"#fff":r(d,i),!m,!1),B=l=>{if(l.stopPropagation(),l.currentTarget&&l.currentTarget.nextSibling&&(f&&f(c?void 0:S),x(t=>!t),e.expanded===void 0)){const t=l.currentTarget.nextSibling;t.style.maxHeight===""||t.style.maxHeight==="0px"?(t.style.maxHeight=`${t.scrollHeight}px`,t.style.paddingBlockStart="",t.style.paddingBlockEnd=""):(t.style.maxHeight="0px",t.style.paddingBlock="0px")}};return o.useEffect(()=>{x(l=>l!==e.defaultExpanded?e.defaultExpanded===void 0?!1:e.defaultExpanded:l)},[e.defaultExpanded]),o.useEffect(()=>{a&&V(l=>l!==e.value?e.value:l)},[a,e.value]),o.useEffect(()=>{const l=setTimeout(()=>{if(a.current){const t=a.current;c&&s?(t.style.backgroundColor=r(d,i),t.style.color=r(d,y(i))):(t.style.backgroundColor="",t.style.color="");const n=a.current.nextSibling;e.expanded===void 0&&e.defaultExpanded!==void 0?e.defaultExpanded?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingBlockStart="",n.style.paddingBlockEnd=""):(n.style.maxHeight="0px",n.style.paddingBlock="0px"):e.expanded?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingBlockStart="",n.style.paddingBlockEnd=""):(n.style.maxHeight="0px",n.style.paddingBlock="0px")}},100);return()=>{clearTimeout(l)}},[a,e.expanded,e.defaultExpanded,s,d,i]),u.jsxs("div",{className:C(p.AccordionRoot,E),style:_,children:[u.jsxs("div",{ref:a,onClick:B,className:p.AccordionHeader,style:c&&s?{backgroundColor:r(d,i),color:r(d,y(i))}:{},children:[!m&&u.jsx("div",{children:b}),H]}),u.jsx("div",{className:p.AccordionBody,children:A})]})}try{h.displayName="Accordion",h.__docgenInfo={description:"",displayName:"Accordion",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},highlightWhenSelected:{defaultValue:null,description:"",name:"highlightWhenSelected",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},defaultExpanded:{defaultValue:null,description:"",name:"defaultExpanded",required:!1,type:{name:"boolean"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},noRippleEffect:{defaultValue:null,description:"",name:"noRippleEffect",required:!1,type:{name:"boolean"}}}}}catch{}export{h as A};
