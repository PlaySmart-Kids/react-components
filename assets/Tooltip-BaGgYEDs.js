import{j as o}from"./jsx-runtime-CkxqCPlQ.js";import{s as h}from"./Tooltip.module-D77Rh_bi.js";import{r as v,R}from"./index-DJO9vBfz.js";import{r as Y}from"./index-Cp9I2zMD.js";import{T as L}from"./DefaultThemeProvider-DB5yquFP.js";import{G as y}from"./DomUtil-DAqrhrKT.js";function C(a){const{children:P,title:S,color:g,backgroundColor:w}=a,m=v.useRef(),[r,x]=v.useState({show:!1,x:-100,y:-100,arrowX:-100,arrowY:-100,arrowDeg:0,opacity:0}),b={ref:m};v.useEffect(()=>{if(m.current){const d=m.current,j=_=>{const p=d.getBoundingClientRect(),t=a.anchor?a.anchor:"north",n=document.createElement("div");n.style.opacity="0",n.innerHTML=a.title,n.className=h.TipPanel,document.body.append(n);const e=n.getBoundingClientRect();document.body.removeChild(n);let s=t==="north"||t==="south"?_.pageX:p.x,i=t==="west"||t==="east"?_.pageY:p.y;const l=14;t==="north"?(s-=e.width/2,i+=window.scrollY-e.height-10):t==="south"?(s-=e.width/2,i+=window.scrollY+p.height+10):t==="west"?(i-=e.height/2,s-=e.width+10):(i-=e.height/2,s+=p.width+10);let u=s,c=i,f=0;const N=1;t==="north"?(u+=e.width/2-l/2,c+=e.height):t==="south"?(u+=e.width/2-l/2,f=-180,c=c-l+1):t==="west"?(u+=e.width-1,c+=e.height/2-l/2,f=-90):t==="east"&&(u-=l-1,c+=e.height/2-l/2,f=90),x({show:!0,x:s,y:i,arrowX:u,arrowY:c,arrowDeg:f,opacity:N})},E=()=>{x({show:!1,x:-100,y:-100,arrowX:-100,arrowY:-100,arrowDeg:0,opacity:0})};return d.addEventListener("mousemove",j),d.addEventListener("mouseleave",E),()=>{d.removeEventListener("mousemove",j),d.removeEventListener("mouseleave",E)}}},[a,m]);const T={color:g&&g!==""?g:"#ffffff",backgroundColor:w&&w!==""?w:"var(--gray-800)"};return o.jsxs(o.Fragment,{children:[R.cloneElement(P,b),r.show&&Y.createPortal(o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:h.TipPanel,style:{transform:`translate(${y(r.x)}px,${y(r.y)}px)`,opacity:r.opacity.toString(),...T},children:[o.jsx(L,{component:"span",variant:"caption"}),o.jsx("span",{dangerouslySetInnerHTML:{__html:S}})]}),o.jsx("div",{className:h.ArrowPanel,style:{transform:`translate(${y(r.arrowX)}px,${y(r.arrowY)}px)`,opacity:r.opacity.toString()},children:o.jsx("div",{className:h.ArrowCenter,style:{transform:`rotate(${r.arrowDeg}deg)`,opacity:r.opacity.toString()},children:o.jsx("div",{className:h.Arrow,style:T,children:"Â "})})})]}),document.body)]})}try{C.displayName="Tooltip",C.__docgenInfo={description:"",displayName:"Tooltip",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"enum",value:[{value:'"north"'},{value:'"east"'},{value:'"south"'},{value:'"west"'},{value:'"start"'},{value:'"end"'}]}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}}}}}catch{}export{C as T};
