import{j as l}from"./jsx-runtime-CkxqCPlQ.js";import{r as w}from"./index-DJO9vBfz.js";import{S as B}from"./SignInButton-CzdAjFiw.js";import{c as z,d as f}from"./DefaultThemeProvider-DB5yquFP.js";function x(){return l.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"LgbsSe-Bz112c",children:l.jsxs("g",{children:[l.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),l.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),l.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),l.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),l.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}const b="_GoogleBlueFilled_1rz1r_1",j="_GoogleBlackFilled_1rz1r_9",F="_GoogleGrayFilled_1rz1r_17",T="_GoogleBlueOutline_1rz1r_25",S="_GoogleBlackOutline_1rz1r_36",O="_GoogleGrayOutline_1rz1r_47",a={GoogleBlueFilled:b,GoogleBlackFilled:j,GoogleGrayFilled:F,GoogleBlueOutline:T,GoogleBlackOutline:S,GoogleGrayOutline:O};function q(o){const d=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(d).split("").map(function(g){return"%"+("00"+g.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}function G(o){const{redirectFlow:n,type:d,width:s,color:r,theme:g,size:v,shape:y,fedCM:p}=o,c=w.useRef(null);function _(e){const t=window.parent?window.parent.location:window.location,i=n?`${t.protocol}//${t.host}${n.redirectUri}`:t.href,C=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${e}&redirect_uri=${encodeURI(i)}&response_type=code&scope=openid%20email%20profile`,u=window.open(C,"_",`width=500,height=600,left=${(window.screen.width-500)/2},top=${(window.screen.height-600)/2}`);if(u){const I=window.setInterval(async()=>{try{if(u.location.href.includes("&code=")||u.location.href.includes("?code=")){window.clearInterval(I);const h=new URLSearchParams(u.location.search).get("code");if(u.close(),n!=null&&n.convertAuthCodeToIdToken&&h){const m=await n.convertAuthCodeToIdToken(h,i);o.onChangeIdToken&&m&&o.onChangeIdToken(m.idToken,m.info)}}}catch{}},1e3)}}return w.useEffect(()=>{const e=document.createElement("script");return e.async=!0,e.defer=!0,e.src="https://accounts.google.com/gsi/client",e.type="text/javascript",window&&(window.ezbizGoogleLogin=t=>{const i=t.credential;i&&o.onChangeIdToken&&o.onChangeIdToken(i,q(i))},e.onload=()=>{const t=window.google;t.accounts.id.initialize({client_id:o.clientId,callback:window.ezbizGoogleLogin,auto_select:!0,ux_mode:"popup"}),!o.fedCM&&c.current&&t.accounts.id.renderButton(c.current,{theme:"outline",size:"large"})}),document.head.appendChild(e),()=>{document.head.removeChild(e),delete window.ezbizGoogleLogin}},[o]),l.jsxs(l.Fragment,{children:[!p&&l.jsx("div",{ref:c,className:z(f.NoWidth,f.NoHeight,f.Hidden)}),l.jsx(B,{onClick:()=>{if(window){if(n)_(o.clientId);else if(p){const e=window.google;e&&e.accounts.id.prompt()}else if(c.current){const e=c.current.querySelector("div[role=button]");e&&e.click()}}},type:d,theme:g,filledClassName:r==="blue"?a.GoogleBlueFilled:r==="black"?a.GoogleBlackFilled:a.GoogleGrayFilled,outlineClassName:r==="blue"?a.GoogleBlueOutline:r==="black"?a.GoogleBlackOutline:a.GoogleGrayOutline,icon:l.jsx(x,{}),size:v,shape:y,width:s,iconBgColor:"white",provider:"Google"})]})}try{G.displayName="GoogleSignInButton",G.__docgenInfo={description:"",displayName:"GoogleSignInButton",props:{clientId:{defaultValue:null,description:"",name:"clientId",required:!0,type:{name:"string"}},fedCM:{defaultValue:null,description:"",name:"fedCM",required:!1,type:{name:"boolean"}},redirectFlow:{defaultValue:null,description:"",name:"redirectFlow",required:!1,type:{name:"{ redirectUri: string; convertAuthCodeToIdToken: (authCode: string, redirectUrl: string) => Promise<{ idToken: string; info: GoogleSignInInfo; }>; }"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"black"'},{value:'"gray"'},{value:'"blue"'}]}},onChangeIdToken:{defaultValue:null,description:"",name:"onChangeIdToken",required:!1,type:{name:"((credential: string, info: GoogleSignInInfo) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'},{value:'"medium"'}]}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"enum",value:[{value:'"signin_with"'},{value:'"continue_with"'},{value:'"signin"'}]}},shape:{defaultValue:null,description:"",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rectangle"'},{value:'"circle"'},{value:'"rounded"'}]}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"outline"'},{value:'"filled"'}]}}}}}catch{}export{G};
