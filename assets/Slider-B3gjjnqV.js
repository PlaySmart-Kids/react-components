import{j as r}from"./jsx-runtime-CkxqCPlQ.js";import{v as ye,h as ve,I as Y}from"./VerticalSlider.module-L3AsejcK.js";import{h as Se,g as M,N as A,i as xe,a as m,b as H,e as Te,f as be,j as we}from"./DefaultThemeProvider-Ce-zb_Sa.js";import{E as B,R as Me}from"./index-DJbli8uv.js";import{N as G}from"./index-BAi5cnyf.js";import{r as N}from"./index-DJO9vBfz.js";const J=N.forwardRef((C,K)=>{const g=N.useRef(),[v,R]=N.useState(),{iconStart:Q,iconEnd:U,size:Z,color:ee,hue:te,onChange:_,disabled:E,max:V,min:h,step:q,showSteps:ne,fullWidth:ae,orientation:ie,snapToStep:W}=C;N.useEffect(()=>{R(C.value)},[C.value]);const S=Te(ee),x=be(te),$=Math.max(V,h),j=Math.min(V,h),u=$-j,re=we(Z),oe=typeof v=="string"?parseFloat(v):v||0,le=Math.max(Math.min(oe,$),j),a=q?Math.abs(q):void 0,c=re===Se.SMALL,I=c?12:20,D=c?4:8,P=c?6:12,T=u===0?0:(le-h)*100/u,z=100-T,n=ie==="vertical",o=n?ye:ve,k=M("Background",S,x),se=M("Border",S,A(A(x))),F=M("Background-alpha",S,xe(x)),ue=M("Background",S,A(x)),ce=M("Outline-alpha",S,x),de=e=>{R(e.currentTarget.value),_&&_(e)},pe=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.setAttribute("data-pressed-time",new Date().getTime().toFixed());const t=e.currentTarget.querySelectorAll("span");t.item(2).style.outlineWidth=`${P}px`},me=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getAttribute("data-pressed-time"),d=e.currentTarget.querySelectorAll("span"),s=d.item(2);if(Y(s.getBoundingClientRect(),e.clientX,e.clientY)?s.style.outlineWidth===""&&(s.style.outlineWidth=`${D}px`):s.style.outlineWidth!==""&&(s.style.outlineWidth=""),t!==null&&e.currentTarget.getAttribute("data-ignore-move")===null&&g.current){if(new Date().getTime()-parseInt(t)<100)return;const i=e.currentTarget.getBoundingClientRect();let l=n?i.height-(e.clientY-i.top):e.clientX-i.left;const p=n?i.height:i.width;l<0?l=0:l>p&&(l=p);let f=l/p*u+h;a&&W&&(f=Math.round(f/a)*a);const y=G(f,0,3);g.current.value=y,d.item(0).style.transition="none",d.item(1).style.transition="none",d.item(2).style.transition="none",O(y)}},ge=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.removeAttribute("data-pressed-time");const t=e.currentTarget.querySelectorAll("span");t.item(0).style.transition="",t.item(1).style.transition="",t.item(2).style.transition="",t.item(2).style.outlineWidth=""};function O(e){const t={nativeEvent:new Event("change"),target:{value:e},currentTarget:{value:e},preventDefault:B,stopPropagation:B,persist:B,isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,bubbles:!1,cancelable:!1,timeStamp:Date.now(),type:"change"};R(e),_&&_(t)}const he=e=>{if(e.currentTarget.getAttribute("data-pressed-time")==null)return;e.stopPropagation(),e.preventDefault();const t=e.currentTarget.getBoundingClientRect(),d=e.clientX,s=e.clientY;let i=n?t.height-(s-t.top):d-t.left;const l=n?t.height:t.width;if(i<0?i=0:i>l&&(i=l),g&&g.current){let p=i/l*u+h;a&&W&&(p=Math.round(p/a)*a);const f=G(p,0,3);g.current.value=f;const y=e.currentTarget.querySelectorAll("span"),b=e.currentTarget,w=y.item(2);w.style.outlineWidth=`${P}px`,w.style.transition="",y.item(0).style.transition="",y.item(1).style.transition="",b.removeAttribute("data-pressed-time");const X=b.getAttribute("data-ignore-move");X!=null&&window.clearInterval(parseInt(X));const L=window.setInterval(()=>{b.getAttribute("data-pressed-time")===null&&(b.removeAttribute("data-ignore-move"),Y(w.getBoundingClientRect(),d,s)?w.style.outlineWidth=`${D}px`:w.style.outlineWidth="",window.clearInterval(L))},300);b.setAttribute("data-ignore-move",L.toFixed()),O(f)}};function fe(){return ne&&a!==void 0&&a>0?r.jsx("div",{className:m(o.StepsPanel,c?o.SmallStepsPanel:void 0),style:{gridTemplateColumns:n?void 0:`repeat(${Math.round(u/a)},1fr)`,gridTemplateRows:n?`repeat(${Math.round(u/a)},1fr)`:void 0},children:Me(1,Math.round(u/a)).map(e=>r.jsx("div",{className:se,children:"Â "},`slider_step_${e}`))}):null}return r.jsxs("div",{ref:K,className:m(o.Root,c?o.RootSmall:void 0,ae?n?H.FullHeight:H.FullWidth:void 0),children:[r.jsx("div",{children:Q}),r.jsxs("div",{className:m(o.BarPanel),onClick:he,onMouseDown:pe,onMouseMove:me,onMouseOut:ge,children:[r.jsxs("div",{className:m(o.Bar,c?o.SmallBar:void 0),children:[fe(),r.jsx("input",{ref:g,tabIndex:-1,type:"range",onChange:de,disabled:E,max:V,min:h,step:q,value:v}),r.jsx("span",{className:m(n?F:k),style:{width:n?void 0:`${T}%`,height:n?`${z}%`:void 0}}),r.jsx("span",{className:m(n?k:F),style:{width:n?void 0:`${z}%`,height:n?`${T}%`:void 0}})]}),r.jsx("span",{className:m(o.Indicator,ue,ce,c?o.IndicatorSmall:void 0),style:{left:n?void 0:`calc(${T}% - ${I/2}px)`,top:n?`calc(${100-T}% - ${I/2}px)`:void 0,pointerEvents:E?"none":void 0}})]}),r.jsx("div",{children:U})]})});try{J.displayName="Slider",J.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},snapToStep:{defaultValue:null,description:"",name:"snapToStep",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string | SmallComponentSize"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},iconStart:{defaultValue:null,description:"",name:"iconStart",required:!1,type:{name:"ReactNode"}},iconEnd:{defaultValue:null,description:"",name:"iconEnd",required:!1,type:{name:"ReactNode"}},showSteps:{defaultValue:null,description:"",name:"showSteps",required:!1,type:{name:"boolean"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}}}}}catch{}export{J as S};
