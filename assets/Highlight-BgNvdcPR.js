import{j as y}from"./DefaultThemeProvider-ZzgTeurK.js";import{r as i}from"./index-BwDkhjyp.js";var s={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const f=[];function S(e){f.splice(0,f.length),e&&e.forEach(l=>{f.push({label:l,kind:13,insertText:l})})}const j=()=>s!=null&&s.VITE_MONACO_CND_URL?s.VITE_MONACO_CND_URL:"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0",z=()=>s!=null&&s.VITE_REQUIREJS_URL?s.VITE_REQUIREJS_URL:"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5";function C(e){const{value:l,style:p,className:d}=e,[u,w]=i.useState(!1),[a,t]=i.useState(),[n,m]=i.useState(),v=i.useCallback(r=>{m(r)},[]);i.useEffect(()=>{if(!document.head.querySelector("script[data-from-ezbiz=true]")){const o=document.createElement("script");o.src=`${z()}/require.min.js`,o.setAttribute("data-from-ezbiz","true"),o.integrity="sha256-0SGl1PJNDyJwcV5T+weg2zpEMrh7xvlwO4oXgvZCeZk=",o.crossOrigin="anonymous",o.async=!0,o.onerror=()=>{document.head.removeChild(o)},o.onload=()=>{const E=window.require;E.config({paths:{vs:`${j()}/min/vs`}}),E(["vs/editor/editor.main"],function(){(window?window.monaco:void 0).languages.registerCompletionItemProvider("css",{provideCompletionItems:(N,h)=>N.getValueInRange({startLineNumber:h.lineNumber,startColumn:h.lineNumber-3,endLineNumber:h.lineNumber,endColumn:h.column}).match(/var\(/)?{suggestions:f}:{suggestions:[]}})})},document.head.appendChild(o)}const c=setInterval(()=>{(window?window.monaco:void 0)!==void 0&&(w(!0),window.clearInterval(c))},500);return()=>{clearInterval(c)}},[]);const V=i.useCallback(r=>{e.onChange&&e.onChange(r)},[e.onChange]);return i.useEffect(()=>{let r=null;if(n&&n){const c=window?window.monaco:void 0;c&&(r=c.editor.create(n,{value:l,language:e.language,theme:"vs-dark",minimap:{enabled:!1},folding:!1,smoothScrolling:!0,trimAutoWhitespace:!0,wordWrap:"on",wordWrapColumn:70,wrappingIndent:"indent",automaticLayout:!0,scrollbar:{alwaysConsumeMouseWheel:!1},wordWrapBreakAfterCharacters:">([{]))],;}"}),t(r),r.getModel().onDidChangeContent(()=>{V(r.getValue())}))}return()=>{r&&(r==null||r.dispose())}},[u,n,e.value,e.language]),i.useEffect(()=>{u&&a&&e.lineNumbers!==void 0&&a.updateOptions({lineNumbers:e.lineNumbers,minimap:{enabled:e.minimap},theme:e.theme,fontSize:(e.fontSize?e.fontSize:12)/16*parseInt(window.getComputedStyle(document.documentElement).fontSize)})},[u,a,e.lineNumbers,e.minimap,e.theme,e.fontSize]),u?y("div",{style:{position:"relative",width:"100%",height:"100%"},children:y("div",{ref:v,className:d||"",style:{...p,position:"absolute",left:0,right:0,top:0,bottom:0}})}):null}try{S.displayName="AddCSSVariables",S.__docgenInfo={description:"",displayName:"AddCSSVariables",props:{}}}catch{}try{C.displayName="MonacoEditor",C.__docgenInfo={description:"",displayName:"MonacoEditor",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValue: string) => void)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},lineNumbers:{defaultValue:null,description:"",name:"lineNumbers",required:!1,type:{name:"boolean"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},minimap:{defaultValue:null,description:"",name:"minimap",required:!1,type:{name:"boolean"}}}}}catch{}var g={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const b=()=>g!=null&&g.VITE_HIGHLIGHT_URL?g.VITE_HIGHLIGHT_URL:"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build";function I(e){const[l,p]=i.useState(),[d,u]=i.useState(),w=i.useCallback(a=>{p(a)},[]);return i.useEffect(()=>{const a=b();let t=document.head.querySelector("script[data-highlight-from-ezbiz=true]");if(t===null&&(t=document.createElement("script"),t.src=`${a}/highlight.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute("data-highlight-from-ezbiz","true"),t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)),window?window.hljs:void 0)u(!0);else{const m=setInterval(()=>{(window?window.hljs:void 0)!==void 0&&window.clearInterval(m),u(!0)},500);return()=>{clearInterval(m)}}},[]),i.useEffect(()=>{const a=e.theme?e.theme:"atom-one-dark",t=b();let n=document.head.querySelector("link[data-highlight-style-from-ezbiz=true]");n===null?(n=document.createElement("link"),n.href=`${t}/styles/${a}.min.css`,n.rel="stylesheet",n.setAttribute("data-highlight-style-from-ezbiz","true"),n.crossOrigin="anonymous",document.head.appendChild(n)):n.href=`${t}/styles/${a}.min.css`},[e.theme]),i.useEffect(()=>{if(l&&d){const a=e.language?e.language.trim().toLowerCase():"javascript";let t=document.head.querySelector(`script[data-highlight-${a}-from-ezbiz=true]`);t==null?(t=document.createElement("script"),t.src=`${b()}/languages/${a}.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute(`data-highlight-${a}-from-ezbiz`,"true"),t.onload=()=>{l.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(l)},t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)):(l.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(l))}},[l,d,e.value,e.language]),y("pre",{style:{display:d?void 0:"none"},children:y("code",{ref:w,className:"language-"+e.language,children:e.value})})}try{I.displayName="Highlight",I.__docgenInfo={description:"",displayName:"Highlight",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}export{I as H,C as M};
