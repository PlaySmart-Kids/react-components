import{j as a}from"./jsx-runtime-CkxqCPlQ.js";import{s as f}from"./Table.module-GN5HgtVw.js";import{r as P}from"./index-DJO9vBfz.js";import{c as T,a8 as G,M as X,T as F,g as fe,a as ge,f as Z,C as ee,p as ye,d as A,h as ae,q as Y,k as te,N as E}from"./DefaultThemeProvider-DB5yquFP.js";import{C as ve}from"./Combobox-utIsBDyR.js";import"./Button-HS4qhxue.js";import{I as O}from"./IconButton-BrX7Rpys.js";import"./RadioButton-Df7xQ-kQ.js";import"./AlertButton-BckD7m-D.js";import"./ActionBar-CT_LrSiq.js";import"./GitHubSignInButton-CNsVBYTR.js";import"./GoogleSignInButton-kzQJV7M3.js";import"./FacebookSignInButton-B72-3NZb.js";import"./AppleSignInButton-DUM0IBSr.js";import{C as le}from"./Checkbox-DTNaYHYX.js";import"./Switch-BSBrATWg.js";import{T as be}from"./Tooltip-BaGgYEDs.js";import"./useTimeout-dnlj8An_.js";import{u as ie}from"./useResizeObserver-vZQY_nc8.js";import{G as h}from"./DomUtil-DAqrhrKT.js";const xe="_PaginationRoot_avao6_1",ne={PaginationRoot:xe,"Page-small-gap":"_Page-small-gap_avao6_11","Page-normal-gap":"_Page-normal-gap_avao6_15","Page-large-gap":"_Page-large-gap_avao6_19"};function J(n){const{backIcon:V,nextIcon:B,totalPages:c,size:R,color:m,hue:$,shape:S,variant:s,shadowSize:j,onChange:y,ellipseIcon:b,hideNumbers:L,className:I,style:K}=n,[p,C]=P.useState(n.page===void 0||n.page<=0?1:n.page>c?c:Math.round(n.page)),x=n.endRemaining===void 0?1:Math.abs(n.endRemaining),z=n.siblingRemaining===void 0?1:Math.abs(n.siblingRemaining);P.useEffect(()=>{n.page===void 0||n.page<=0?C(1):n.page>c?C(c):C(n.page)},[n.page,c]);const k=1+z*2+x*2+2,d=[];if(!L)if(c>k){const t=Math.ceil(k/2);if(p<=t){for(let l=1;l<=t;l++)d.push(l);for(let l=1;l<=z;l++)d.push(t+l);d.push(-2);for(let l=0;l<x;l++)d.push(c-(x-l-1))}else if(p>=c-t+1){for(let g=1;g<=x;g++)d.push(g);d.push(-1);const l=[];for(let g=c-t-(z-1);g<=c;g++)l.push(g);d.length+l.length===k&&d.push(...l)}else{for(let l=1;l<=x;l++)d.push(l);d.push(-1);for(let l=z;l>=1;l--)d.push(p-l);d.push(p);for(let l=1;l<=z;l++)d.push(p+l);d.push(-2);for(let l=0;l<x;l++)d.push(c-(x-l-1))}}else for(let t=1;t<=c;t++)d.push(t);return a.jsx("div",{className:T(ne.PaginationRoot,I),style:K,children:a.jsx("div",{children:a.jsxs("ul",{className:ne[`Page-${R}-gap`],children:[a.jsx("li",{children:a.jsx(O,{variant:p<=1?"filled":s,shape:S,size:R,shadowSize:j,color:m,hue:$,disabled:p<=1||c===void 0,startBgWithTransparent:!0,onClick:t=>{t.currentTarget.blur(),t.stopPropagation(),p>1&&(C(p-1),y&&y(p-1))},children:V?G(V):a.jsx(X,{name:"chevron_backward",size:20})})}),d.map((t,l)=>t<0?b?a.jsx("li",{children:G(b)},`pagination_${t}`):a.jsx("li",{children:a.jsx(O,{style:{color:"var(--text-primary)"},variant:"filled",shape:S,size:R,shadowSize:0,color:m,hue:$,disabled:!0,startBgWithTransparent:!0,onClick:g=>{g.currentTarget.blur(),g.stopPropagation(),y&&y(t),C(t)},children:a.jsx(F,{component:"span",children:"..."})})},`pagination_${t}`):a.jsx("li",{children:a.jsx(O,{variant:s,shape:S,size:R,shadowSize:j,color:m,hue:$,startBgWithTransparent:t!==p,onClick:g=>{g.currentTarget.blur(),g.stopPropagation(),y&&y(t),C(t)},children:a.jsx(F,{component:"span",children:t})})},`pagination_${t}`)),a.jsx("li",{children:a.jsx(O,{variant:p>=c?"filled":s,shape:S,size:R,shadowSize:j,color:m,hue:$,disabled:p>=c||c===void 0,startBgWithTransparent:!0,onClick:t=>{t.currentTarget.blur(),t.stopPropagation(),p<c&&(y&&y(p+1),C(p+1))},children:B?G(B):a.jsx(X,{name:"chevron_forward",size:20})})})]})})})}try{J.displayName="Pagination",J.__docgenInfo={description:"",displayName:"Pagination",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'string | Omit<ButtonVariant, "text">'}},shape:{defaultValue:null,description:"",name:"shape",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},totalPages:{defaultValue:null,description:"",name:"totalPages",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},shadowSize:{defaultValue:null,description:"",name:"shadowSize",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"}]}},hideNumbers:{defaultValue:null,description:"",name:"hideNumbers",required:!1,type:{name:"boolean"}},endRemaining:{defaultValue:null,description:"",name:"endRemaining",required:!1,type:{name:"number"}},siblingRemaining:{defaultValue:null,description:"",name:"siblingRemaining",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((page: number) => void)"}},ellipseIcon:{defaultValue:null,description:"",name:"ellipseIcon",required:!1,type:{name:"DefaultRenderer"}},backIcon:{defaultValue:null,description:"",name:"backIcon",required:!1,type:{name:"DefaultRenderer"}},nextIcon:{defaultValue:null,description:"",name:"nextIcon",required:!1,type:{name:"DefaultRenderer"}},startBgWithTransparent:{defaultValue:null,description:"",name:"startBgWithTransparent",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const Se=n=>n.label===""?a.jsx("span",{children:"  "}):n.label,w=10;function re(n){const{footerAction:V,tbodyClassName:B,theadClassName:c,emptyWidget:R,borderRadius:m,footerWidget:$,onChangePagination:S,paginationInfo:s,headerFields:j,dataFields:y,rawData:b,hasSearch:L,hasCheckbox:I,onSelectedItems:K,noShadow:p,compact:C,showOutline:x,showColumnDivider:z,height:k}=n,d=n.hue!==void 0?fe(n.hue):ge.LIGHT,t=n.color!==void 0?Z(n.color):ee.SECONDARY,l=n.shadowSize!==void 0?ye(n.shadowSize):6,g=n.shadowColor!==void 0?Z(n.shadowColor):ee.SECONDARY,[v,Q]=P.useState({headerHeight:0,footerHeight:0,left:0,right:0,width:0,height:0,bodyHeight:0}),[N,se]=P.useState([]),W=e=>{n.onSelectedItems&&n.onSelectedItems(e),se(e)},[M,oe,de]=ie(),[U,ue]=ie();P.useEffect(()=>{if(M){const e=M,i=e.querySelector("thead");Q(o=>({...o,headerHeight:i?i.clientHeight:0,footerHeight:s?46:0,left:e.offsetLeft,right:e.offsetLeft,width:e.clientWidth,height:e.clientHeight}))}},[s,de,M]),P.useEffect(()=>{let e;const i=U;if(i&&(e=i.parentElement),e&&i){const o=e,u=i;let r=0;!s&&u&&u.querySelectorAll("tr").forEach(D=>{r+=D.clientHeight}),Q(D=>({...D,bodyHeight:r}));const H=o.getAttribute("data-width")===null||parseInt(o.getAttribute("data-width"))!==o.clientWidth;o.setAttribute("data-width",o.clientWidth.toString());const q=H?0:u.getAttribute("data-scroll-size")!==null?parseInt(u.getAttribute("data-scroll-size")):0,_=o.clientWidth-u.clientWidth;q!==_&&_<23&&(u.setAttribute("data-scroll-size",_.toString()),u.querySelectorAll("tr").forEach(D=>{D.style.width=`calc(100% + ${h(_)}px)`}))}},[U,s]),P.useEffect(()=>{W([])},[n.rawData]);function ce(e,i,o,u){return a.jsxs(a.Fragment,{children:[!u&&a.jsx(F,{variant:"body2",color:"text_primary",children:"Rows per page"}),a.jsx(ve,{title:"",onChange:r=>{s&&S&&S({page:s.page*s.pageSize/r,pageSize:r,totalPages:Math.ceil(s.totalRecords/r),totalRecords:s.totalRecords})},options:e.map(r=>({label:r.toString(),value:r})),listItemStyle:{className:f.PageSize},value:i.pageSize,size:"wrap"}),u?a.jsx(F,{variant:"body2",color:"text_primary",children:`${o*i.pageSize+1}
             / ${i.totalRecords}`}):a.jsx(F,{variant:"body2",color:"text_primary",children:`${o*i.pageSize+1} - ${Math.min((o+1)*i.pageSize,i.totalRecords)} of ${i.totalRecords}`})]})}function he(e,i){if(e===null)return null;const o=v.width<700,u=Math.min(e.page,e.totalRecords-1);return a.jsxs("tfoot",{className:T(f.TableFooter,o?f.TableFooterCompact:void 0),style:{left:`${h(v.left)}px`,right:`${h(v.right)}px`},children:[e.totalRecords>0&&a.jsx("tr",{children:a.jsxs("td",{children:[ce(i,e,u,o),V?null:a.jsx("div",{}),a.jsx(J,{color:t,hue:d,className:f.PaginationPosition,hideNumbers:v.width<400,shadowSize:3,size:"small",totalPages:e.totalPages,siblingRemaining:o?0:void 0,endRemaining:o?0:void 0,onChange:r=>{S&&s&&S({page:r-1,pageSize:s.pageSize,totalPages:s.totalPages,totalRecords:s.totalRecords})},page:e.page+1}),V]})}),e.totalRecords<=0&&V&&a.jsx("tr",{children:a.jsx("td",{style:{display:"flex",justifyContent:"end"},children:V})})]})}function me(){return()=>{N.length>0?W([]):W([...b])}}function pe(e){return i=>{if(i.target.checked)W([...N,b[e]]);else{const o=N.findIndex(u=>u===b[e]);if(o>=0){const u=[...N];u.splice(o,1),W(u)}}}}return a.jsxs("div",{className:T(A.RelativePosition,A.FullWidth),style:{height:s&&!k?"30rem":k},children:[(p===void 0||!p)&&a.jsx("div",{className:T(f.ShadowPanel,A[`Shadow-${l}-${g}-${d}`],x?f.TableOutline:void 0,x?A[`Outline-${t}-${d}`]:void 0),style:{width:h(v.width-1)+"px",borderRadius:`${h(m!==void 0?m:w)}px`,height:s===void 0?h(v.headerHeight+v.bodyHeight)+"px":""}}),a.jsxs("table",{ref:oe,style:{borderTopLeftRadius:`${h(m||w)}px`,borderTopRightRadius:`${h(m||w)}px`,overflow:"hidden"},className:T(f.TableHeaderFontSize,z?f.TableCellLeftBorder:f.TableCellNoLeftBorder,s?f.RootWithFooter:f.RootWithoutFooter,C?f.CompactCell:void 0),children:[a.jsxs("thead",{className:T(f.TableHead,f.TableHeadInline,c?" "+c:void 0,te(t,d),ae(t,Y(d))),children:[a.jsx("tr",{children:j.map((e,i,o)=>a.jsxs("th",{className:e.className?e.className:"",style:{...i===0?{borderTopLeftRadius:`${h(m||w)}px`}:{},...i+1===o.length?{borderTopRightRadius:`${h(m||w)}px`}:{},...e.style,paddingInlineStart:I&&i===0?`${h(44)}px`:void 0},children:[I&&i===0&&b.length>0&&a.jsx("div",{className:f.CheckboxPosition,children:a.jsx(le,{color:t,hue:Y(d),title:"",size:"small",startIconWithDefinedColor:!0,checked:N.length>0,indeterminate:N.length<b.length,onChange:me()})}),e.renderer?e.renderer(e):Se(e)]},`${e.key}_${i}`))}),j.findIndex(e=>e.searchRenderer)>=0&&a.jsx("tr",{className:T(f.SearchPanel,te(t,E(E(d))),ae(t,Y(E(E(d))))),style:{height:L?"3.44rem":"0rem"},children:j.map((e,i,o)=>a.jsx("th",{className:e.className?e.className:"",style:{...i===0?{borderTopLeftRadius:`${h(m||w)}px`}:{},...i+1===o.length?{borderTopRightRadius:`${h(m||w)}px`}:{},...e.style},children:e.searchRenderer?e.searchRenderer(e):a.jsx("span",{children:" "})},`${e.key}_${i}`))})]}),a.jsxs("tbody",{ref:ue,className:B,style:{height:s===void 0?void 0:`calc(100% - ${h(v.headerHeight)}px - ${h(v.footerHeight)}px)`,top:`${h(v.headerHeight)}px`,left:`${h(v.left)}px`,width:`${h(v.width)}px`},children:[b.map((e,i)=>{const o=N.findIndex(r=>r===b[i])>=0,u=N.length;return a.jsx("tr",{className:T(s?f.TableRowWithFooter:f.TableRowWithoutFooter,y.length>0&&y[0].rowClassName?" "+y[0].rowClassName(b[i],o,u):""),children:y.map((r,H)=>{let q=r.tooltip?typeof r.tooltip=="string"?r.tooltip:r.tooltip(e,o,u):void 0;q===""&&(q=void 0);const _=a.jsxs("td",{className:typeof r.className=="string"?r.className:r.className!==void 0?r.className(e,o,u):void 0,style:{...r.style,paddingInlineStart:I&&H===0?`${h(44)}px`:void 0},children:[I&&H===0&&a.jsx("div",{className:f.CheckboxPosition,children:a.jsx(le,{color:t,hue:d,title:"",size:"small",checked:o,onChange:pe(i)})}),r.renderer?r.renderer(e,o,u):e[r.key]!==void 0&&e[r.key]!==""&&e[r.key]!==null?e[r.key]:q?"∅":" "]},q?void 0:`data-${r.key}-${H}`);return q?a.jsx(be,{title:q,children:_},`data-${r.key}-${H}`):_})},`data-row-${i}`)}),b.length===0&&R&&a.jsx("tr",{children:a.jsx("td",{colSpan:y.length,style:{width:h(v.width)+"px"},children:R})}),$&&a.jsx("tr",{children:a.jsx("td",{colSpan:j.length,children:$})})]}),s&&he({page:s.page,pageSize:s.pageSize,totalPages:s.totalPages,totalRecords:s.totalRecords},s==null?void 0:s.pageSizeOptions)]})]})}try{re.displayName="DataTable",re.__docgenInfo={description:"",displayName:"DataTable",props:{height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},shadowSize:{defaultValue:null,description:"",name:"shadowSize",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"}]}},shadowColor:{defaultValue:null,description:"",name:"shadowColor",required:!1,type:{name:"string"}},headerFields:{defaultValue:null,description:"",name:"headerFields",required:!0,type:{name:"HeaderField[]"}},dataFields:{defaultValue:null,description:"",name:"dataFields",required:!0,type:{name:"DataField<T>[]"}},ignoreCheckbox:{defaultValue:null,description:"",name:"ignoreCheckbox",required:!1,type:{name:"Partial<T>[]"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},rawData:{defaultValue:null,description:"",name:"rawData",required:!0,type:{name:"T[]"}},footerWidget:{defaultValue:null,description:"",name:"footerWidget",required:!1,type:{name:"ReactNode"}},paginationInfo:{defaultValue:null,description:"",name:"paginationInfo",required:!1,type:{name:"FooterInfo"}},onChangePagination:{defaultValue:null,description:"",name:"onChangePagination",required:!1,type:{name:"((pagination: PaginationInfo) => void)"}},emptyWidget:{defaultValue:null,description:"",name:"emptyWidget",required:!1,type:{name:"ReactNode"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"number"}},tbodyClassName:{defaultValue:null,description:"",name:"tbodyClassName",required:!1,type:{name:"string"}},theadClassName:{defaultValue:null,description:"",name:"theadClassName",required:!1,type:{name:"string"}},footerAction:{defaultValue:null,description:"",name:"footerAction",required:!1,type:{name:"ReactNode"}},hasSearch:{defaultValue:null,description:"",name:"hasSearch",required:!1,type:{name:"boolean"}},hasCheckbox:{defaultValue:null,description:"",name:"hasCheckbox",required:!1,type:{name:"boolean"}},onSelectedItems:{defaultValue:null,description:"",name:"onSelectedItems",required:!1,type:{name:"((items: T[]) => void)"}},noShadow:{defaultValue:null,description:"",name:"noShadow",required:!1,type:{name:"boolean"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},showOutline:{defaultValue:null,description:"",name:"showOutline",required:!1,type:{name:"boolean"}},showColumnDivider:{defaultValue:null,description:"",name:"showColumnDivider",required:!1,type:{name:"boolean"}}}}}catch{}export{re as D,J as P};
