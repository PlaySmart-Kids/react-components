import{j as u}from"./jsx-runtime-CkxqCPlQ.js";import{r as d}from"./index-DJO9vBfz.js";import{e as ue,f as oe,g as j,b as C,L as re,a as ie}from"./DefaultThemeProvider-Ce-zb_Sa.js";import{C as e,P as de,a as pe}from"./InputUtil-BONj-j-a.js";const ce="_FitContent_4118g_1",me="_TagPanel_4118g_5",fe="_InputContainer_4118g_11",he="_Label_4118g_19",I={FitContent:ce,TagPanel:me,InputContainer:fe,Label:he};function ge(a,s,o,n,r,p,V,b,q,f,v,c,i,_){a?(s.push(e.DisableBorder),s.push(e.DisableOutline),n.push(C.DisableTextColor),(r!=null&&r.length>0||p||!f)&&(n.push(e.LabelSmaller),n.push(e.LabelMoveUp)),o.push(C.DisableTextColor)):b||v!==""||q?(n.push(e.LabelMoveUp),n.push(e.LabelSmaller),n.push(c),s.push(e.FocusBorder),s.push(i),s.push(_),o.push(c)):((r!=null&&r.length>0||p||!f)&&(n.push(e.LabelSmaller),n.push(e.LabelMoveUp)),V?n.push(e.LabelActiveColor):n.push(e.LabelNormalColor),o.push(c),V?s.push(e.HoverBorder):s.push(e.NormalBorder))}const D=d.forwardRef((a,s)=>{const[o,n]=d.useState(""),[r,p]=d.useState(a.defaultValues?a.defaultValues:[]),[V,b]=d.useState(!1),[q,f]=d.useState(!1),[v,c]=d.useState(!1),i=a.values!==void 0?a.values:r===void 0?[]:r,_=()=>{c(!1),b(!0)},E=l=>{if(l.code==="Enter"){const t=w?w(l.currentTarget.value):l.currentTarget.value,y=t===null?[...i]:[...i,t];n(""),m&&m(y),p(y)}else if(l.code==="Backspace"&&i.length>0){const t=[...i];t.splice(t.length-1,1),n(""),m&&m(t),p(t)}},k=l=>{n(l.currentTarget.value)},B=l=>{b(!1),n("")},R=()=>{f(!0)},z=()=>{f(!1)},U=l=>{const t=l.currentTarget.querySelector("input");t&&t.focus()},{className:P,style:W,name:O,hint:h,maxLength:K,fullWidth:$,label:G,size:J,onChange:m,getLabelColor:M,disabled:x,startAdornment:Q,endAdornment:X,inputProps:Y,tagMapper:w}=a,Z=d.useRef(null),g=[e.InputRoot],A=[e.Section],H=[e.Section,"body2"],S=[e.Label],F=[I.InputContainer],ee=[e.Input],L=ue(a.color),T=oe(a.hue),ae=a.alwaysHighlight?a.alwaysHighlight:!1,ne=a.shrinkTitle!==void 0?a.shrinkTitle:!0,te=j("Border",L,T),le=j("Color",L,T),se=j("Outline",L,T);return ge(x,A,H,S,r,v,q,V,ae,ne,h||"",le,te,se),de(F,J),$?g.push(C.FullWidth):g.push(I.FitContent),x&&g.push(C.DisableEvent),P&&g.push(P),d.useEffect(()=>{p(a.defaultValues?a.defaultValues:[])},[a.defaultValues]),u.jsxs("div",{ref:s,className:g.join(" "),style:W,children:[u.jsxs("div",{className:A.join(" "),onClick:U,onMouseEnter:R,onMouseLeave:z,children:[u.jsx("span",{className:e.StartAdornmentContainer,children:Q}),u.jsxs("span",{className:F.join(" "),children:[u.jsx("label",{className:S.join(" "),children:G}),i.map((l,t)=>u.jsx(re,{color:M?M(l):L,hue:T,title:l,className:ie(I.Label,a.values!==void 0?void 0:C.Pointer),onMouseUp:y=>{const N=[...i];N.splice(t,1),m&&m(N),p(N),y.stopPropagation(),y.preventDefault()}},`tag_${t}`)),u.jsx("div",{className:I.TagPanel,children:u.jsx("input",{ref:Z,name:O,className:ee.join(" "),...Y,onAnimationStart:()=>{c(!0)},"data-hint":h!==""?h:void 0,maxLength:K,onFocus:_,onKeyDown:E,onBlur:B,onChange:k,value:o,disabled:x,size:Math.max(o==null?void 0:o.length,1),type:"text",autoComplete:"false"})})]}),u.jsx("span",{className:e.EndAdornmentContainer,children:X})]}),pe(H,h)]})});try{D.displayName="TagInput",D.__docgenInfo={description:"",displayName:"TagInput",props:{values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},defaultValues:{defaultValue:null,description:"",name:"defaultValues",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValue: string[]) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},getLabelColor:{defaultValue:null,description:"",name:"getLabelColor",required:!1,type:{name:"((value: string) => ColorType)"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>"}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"DefaultRenderer"}},alwaysHighlight:{defaultValue:null,description:"",name:"alwaysHighlight",required:!1,type:{name:"boolean"}},shrinkTitle:{defaultValue:null,description:"",name:"shrinkTitle",required:!1,type:{name:"boolean"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tagMapper:{defaultValue:null,description:"",name:"tagMapper",required:!1,type:{name:"((name: string) => string)"}}}}}catch{}export{D as T};
