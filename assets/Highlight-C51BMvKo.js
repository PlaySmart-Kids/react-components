import{j as p}from"./DefaultThemeProvider-DIgWkiEK.js";import{r as l}from"./index-BwDkhjyp.js";const y=[];function S(e){y.splice(0,y.length),e&&e.forEach(n=>{y.push({label:n,kind:13,insertText:n})})}let u,c;const z=()=>{var e,n;return u=(e=process==null?void 0:process.env)==null?void 0:e.MONACO_CND_URL,u||(u=(n=process==null?void 0:process.env)==null?void 0:n.REACT_APP_MONACO_CND_URL),u||(u="https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0"),u},I=()=>{var e,n;return c=(e=process==null?void 0:process.env)==null?void 0:e.REUIREJS_CND_URL,c||(c=(n=process==null?void 0:process.env)==null?void 0:n.REACT_APP_REUIREJS_CND_URL),c||(c="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5"),c};function N(e){const{value:n,style:v,className:d}=e,[s,w]=l.useState(!1),[a,t]=l.useState(),[i,g]=l.useState(),C=l.useCallback(r=>{g(r)},[]);l.useEffect(()=>{if(!document.head.querySelector("script[data-from-ezbiz=true]")){const o=document.createElement("script");o.src=`${I()}/require.min.js`,o.setAttribute("data-from-ezbiz","true"),o.integrity="sha256-0SGl1PJNDyJwcV5T+weg2zpEMrh7xvlwO4oXgvZCeZk=",o.crossOrigin="anonymous",o.async=!0,o.onerror=()=>{document.head.removeChild(o)},o.onload=()=>{const E=window.require;E.config({paths:{vs:`${z()}/min/vs`}}),E(["vs/editor/editor.main"],function(){(window?window.monaco:void 0).languages.registerCompletionItemProvider("css",{provideCompletionItems:(j,f)=>j.getValueInRange({startLineNumber:f.lineNumber,startColumn:f.lineNumber-3,endLineNumber:f.lineNumber,endColumn:f.column}).match(/var\(/)?{suggestions:y}:{suggestions:[]}})})},document.head.appendChild(o)}const h=setInterval(()=>{(window?window.monaco:void 0)!==void 0&&(w(!0),window.clearInterval(h))},500);return()=>{clearInterval(h)}},[]);const _=l.useCallback(r=>{e.onChange&&e.onChange(r)},[e.onChange]);return l.useEffect(()=>{let r=null;if(i&&i){const h=window?window.monaco:void 0;h&&(r=h.editor.create(i,{value:n,language:e.language,theme:"vs-dark",minimap:{enabled:!1},folding:!1,smoothScrolling:!0,trimAutoWhitespace:!0,wordWrap:"on",wordWrapColumn:70,wrappingIndent:"indent",automaticLayout:!0,scrollbar:{alwaysConsumeMouseWheel:!1},wordWrapBreakAfterCharacters:">([{]))],;}"}),t(r),e.editorRef&&e.editorRef(r),r.getModel().onDidChangeContent(()=>{_(r.getValue())}))}return()=>{r&&(r==null||r.dispose())}},[s,i,e.value,e.language,n,e,_]),l.useEffect(()=>{s&&a&&e.lineNumbers!==void 0&&a.updateOptions({lineNumbers:e.lineNumbers,minimap:{enabled:e.minimap},theme:e.theme,fontSize:(e.fontSize?e.fontSize:12)/16*parseInt(window.getComputedStyle(document.documentElement).fontSize)})},[s,a,e.lineNumbers,e.minimap,e.theme,e.fontSize]),s?p("div",{style:{position:"relative",width:"100%",height:"100%"},children:p("div",{ref:C,className:d||"",style:{...v,position:"absolute",left:0,right:0,top:0,bottom:0}})}):null}try{S.displayName="AddCSSVariables",S.__docgenInfo={description:"",displayName:"AddCSSVariables",props:{}}}catch{}try{N.displayName="MonacoEditor",N.__docgenInfo={description:"",displayName:"MonacoEditor",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValue: string) => void)"}},editorRef:{defaultValue:null,description:"",name:"editorRef",required:!1,type:{name:"((editor: any) => void)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},lineNumbers:{defaultValue:null,description:"",name:"lineNumbers",required:!1,type:{name:"boolean"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},minimap:{defaultValue:null,description:"",name:"minimap",required:!1,type:{name:"boolean"}}}}}catch{}let m;const b=()=>{var e,n;return m=(e=process==null?void 0:process.env)==null?void 0:e.HIGHLIGHT_URL,m||(m=(n=process==null?void 0:process.env)==null?void 0:n.REACT_APP_HIGHLIGHT_URL),m||(m="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build"),m};function q(e){const[n,v]=l.useState(),[d,s]=l.useState(),w=l.useCallback(a=>{v(a)},[]);return l.useEffect(()=>{const a=b();let t=document.head.querySelector("script[data-highlight-from-ezbiz=true]");if(t===null&&(t=document.createElement("script"),t.src=`${a}/highlight.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute("data-highlight-from-ezbiz","true"),t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)),window?window.hljs:void 0)s(!0);else{const g=setInterval(()=>{(window?window.hljs:void 0)!==void 0&&window.clearInterval(g),s(!0)},500);return()=>{clearInterval(g)}}},[]),l.useEffect(()=>{const a=e.theme?e.theme:"atom-one-dark",t=b();let i=document.head.querySelector("link[data-highlight-style-from-ezbiz=true]");i===null?(i=document.createElement("link"),i.href=`${t}/styles/${a}.min.css`,i.rel="stylesheet",i.setAttribute("data-highlight-style-from-ezbiz","true"),i.crossOrigin="anonymous",document.head.appendChild(i)):i.href=`${t}/styles/${a}.min.css`},[e.theme]),l.useEffect(()=>{if(n&&d){const a=e.language?e.language.trim().toLowerCase():"javascript";let t=document.head.querySelector(`script[data-highlight-${a}-from-ezbiz=true]`);t==null?(t=document.createElement("script"),t.src=`${b()}/languages/${a}.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute(`data-highlight-${a}-from-ezbiz`,"true"),t.onload=()=>{n.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(n)},t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)):(n.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(n))}},[n,d,e.value,e.language]),p("pre",{style:{display:d?void 0:"none"},children:p("code",{ref:w,className:"language-"+e.language,children:e.value})})}try{q.displayName="Highlight",q.__docgenInfo={description:"",displayName:"Highlight",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}export{q as H,N as M};
