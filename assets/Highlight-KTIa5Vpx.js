import{a as f}from"./Divider-DdokZ4G_.js";import{r}from"./index-BwDkhjyp.js";const v=[];function S(e){v.splice(0,v.length),e&&e.forEach(n=>{v.push({label:n,kind:13,insertText:n})})}let c,m;const j=()=>{var n,o;const e=window.process;return e&&(c=(n=e==null?void 0:e.env)==null?void 0:n.MONACO_CND_URL,c||(c=(o=e==null?void 0:e.env)==null?void 0:o.REACT_APP_MONACO_CND_URL)),c||(c="https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0"),c},I=()=>{var n,o;const e=window.process;return e&&(m=(n=e==null?void 0:e.env)==null?void 0:n.REUIREJS_CND_URL,m||(m=(o=e==null?void 0:e.env)==null?void 0:o.REACT_APP_REUIREJS_CND_URL)),m||(m="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5"),m};function q(e){const{value:n,style:o,className:u}=e,[d,w]=r.useState(!1),[a,t]=r.useState(),[i,y]=r.useState(),C=r.useCallback(l=>{y(l)},[]);r.useEffect(()=>{if(!document.head.querySelector("script[data-from-ezbiz=true]")){const s=document.createElement("script");s.src=`${I()}/require.min.js`,s.setAttribute("data-from-ezbiz","true"),s.integrity="sha256-0SGl1PJNDyJwcV5T+weg2zpEMrh7xvlwO4oXgvZCeZk=",s.crossOrigin="anonymous",s.async=!0,s.onerror=()=>{document.head.removeChild(s)},s.onload=()=>{const N=window.require;N.config({paths:{vs:`${j()}/min/vs`}}),N(["vs/editor/editor.main"],function(){(window?window.monaco:void 0).languages.registerCompletionItemProvider("css",{provideCompletionItems:(V,p)=>V.getValueInRange({startLineNumber:p.lineNumber,startColumn:p.lineNumber-3,endLineNumber:p.lineNumber,endColumn:p.column}).match(/var\(/)?{suggestions:v}:{suggestions:[]}})})},document.head.appendChild(s)}const g=setInterval(()=>{(window?window.monaco:void 0)!==void 0&&(w(!0),window.clearInterval(g))},500);return()=>{clearInterval(g)}},[]);const E=r.useCallback(l=>{e.onChange&&e.onChange(l)},[e.onChange]);return r.useEffect(()=>{let l=null;if(i&&i){const g=window?window.monaco:void 0;g&&(l=g.editor.create(i,{value:n,language:e.language,theme:"vs-dark",minimap:{enabled:!1},folding:!1,smoothScrolling:!0,trimAutoWhitespace:!0,wordWrap:"on",wordWrapColumn:70,wrappingIndent:"indent",automaticLayout:!0,scrollbar:{alwaysConsumeMouseWheel:!1},wordWrapBreakAfterCharacters:">([{]))],;}"}),t(l),e.editorRef&&e.editorRef(l),l.getModel().onDidChangeContent(()=>{E(l.getValue())}))}return()=>{l&&(l==null||l.dispose())}},[d,i,e.value,e.language,n,e,E]),r.useEffect(()=>{d&&a&&e.lineNumbers!==void 0&&a.updateOptions({lineNumbers:e.lineNumbers,minimap:{enabled:e.minimap},theme:e.theme,fontSize:(e.fontSize?e.fontSize:12)/16*parseInt(window.getComputedStyle(document.documentElement).fontSize)})},[d,a,e.lineNumbers,e.minimap,e.theme,e.fontSize]),d?f("div",{style:{position:"relative",width:"100%",height:"100%"},children:f("div",{ref:C,className:u||"",style:{...o,position:"absolute",left:0,right:0,top:0,bottom:0}})}):null}try{S.displayName="AddCSSVariables",S.__docgenInfo={description:"",displayName:"AddCSSVariables",props:{}}}catch{}try{q.displayName="MonacoEditor",q.__docgenInfo={description:"",displayName:"MonacoEditor",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValue: string) => void)"}},editorRef:{defaultValue:null,description:"",name:"editorRef",required:!1,type:{name:"((editor: any) => void)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},lineNumbers:{defaultValue:null,description:"",name:"lineNumbers",required:!1,type:{name:"boolean"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},minimap:{defaultValue:null,description:"",name:"minimap",required:!1,type:{name:"boolean"}}}}}catch{}let h;const _=()=>{var n,o;const e=window.process;return e&&(h=(n=e==null?void 0:e.env)==null?void 0:n.HIGHLIGHT_URL,h||(h=(o=e==null?void 0:e.env)==null?void 0:o.REACT_APP_HIGHLIGHT_URL)),h||(h="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build"),h};function b(e){const[n,o]=r.useState(),[u,d]=r.useState(),w=r.useCallback(a=>{o(a)},[]);return r.useEffect(()=>{const a=_();let t=document.head.querySelector("script[data-highlight-from-ezbiz=true]");if(t===null&&(t=document.createElement("script"),t.src=`${a}/highlight.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute("data-highlight-from-ezbiz","true"),t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)),window?window.hljs:void 0)d(!0);else{const y=setInterval(()=>{(window?window.hljs:void 0)!==void 0&&window.clearInterval(y),d(!0)},500);return()=>{clearInterval(y)}}},[]),r.useEffect(()=>{const a=e.theme?e.theme:"atom-one-dark",t=_();let i=document.head.querySelector("link[data-highlight-style-from-ezbiz=true]");i===null?(i=document.createElement("link"),i.href=`${t}/styles/${a}.min.css`,i.rel="stylesheet",i.setAttribute("data-highlight-style-from-ezbiz","true"),i.crossOrigin="anonymous",document.head.appendChild(i)):i.href=`${t}/styles/${a}.min.css`},[e.theme]),r.useEffect(()=>{if(n&&u){const a=e.language?e.language.trim().toLowerCase():"javascript";let t=document.head.querySelector(`script[data-highlight-${a}-from-ezbiz=true]`);t==null?(t=document.createElement("script"),t.src=`${_()}/languages/${a}.min.js`,t.async=!0,t.crossOrigin="anonymous",t.setAttribute(`data-highlight-${a}-from-ezbiz`,"true"),t.onload=()=>{n.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(n)},t.onerror=()=>{t&&document.head.removeChild(t)},document.head.appendChild(t)):(n.removeAttribute("data-highlighted"),(window?window.hljs:void 0).highlightElement(n))}},[n,u,e.value,e.language]),f("pre",{style:{display:u?void 0:"none"},children:f("code",{ref:w,className:"language-"+e.language,children:e.value})})}try{b.displayName="Highlight",b.__docgenInfo={description:"",displayName:"Highlight",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}function z(e){return f(b,{...e})}try{z.displayName="Highlight",z.__docgenInfo={description:"",displayName:"Highlight",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}export{z as H,q as M};
