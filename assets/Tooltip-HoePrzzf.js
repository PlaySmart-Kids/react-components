import{j as r}from"./jsx-runtime-CkxqCPlQ.js";import{r as g,R as N}from"./index-DJO9vBfz.js";import{r as S}from"./index-Cp9I2zMD.js";import{T as L}from"./DefaultThemeProvider-Ce-zb_Sa.js";const R="_TipPanel_iesh6_1",Y="_ArrowPanel_iesh6_18",D="_ArrowCenter_iesh6_30",X="_Arrow_iesh6_18",u={TipPanel:R,ArrowPanel:Y,ArrowCenter:D,Arrow:X};function A(n){const{children:C,title:j,color:y,backgroundColor:f}=n,p=g.useRef(),[o,v]=g.useState({show:!1,x:-100,y:-100,arrowX:-100,arrowY:-100,arrowDeg:0,opacity:0}),E={ref:p};g.useEffect(()=>{if(p.current){const d=p.current,_=P=>{const m=d.getBoundingClientRect(),t=n.anchor?n.anchor:"north",a=document.createElement("div");a.style.opacity="0",a.innerHTML=n.title,a.className=u.TipPanel,document.body.append(a);const e=a.getBoundingClientRect();document.body.removeChild(a);let s=t==="north"||t==="south"?P.pageX:m.x,i=t==="west"||t==="east"?P.pageY:m.y;const l=14;t==="north"?(s-=e.width/2,i+=window.scrollY-e.height-10):t==="south"?(s-=e.width/2,i+=m.height+10):t==="west"?(i-=e.height/2,s-=e.width+10):(i-=e.height/2,s+=m.width+10);let h=s,c=i,w=0;const b=1;t==="north"?(h+=e.width/2-l/2,c+=e.height):t==="south"?(h+=e.width/2-l/2,w=-180,c=c-l):t==="west"?(h+=e.width,c+=e.height/2-l/2,w=-90):t==="east"&&(h-=l,c+=e.height/2-l/2,w=90),v({show:!0,x:s,y:i,arrowX:h,arrowY:c,arrowDeg:w,opacity:b})},T=()=>{v({show:!1,x:-100,y:-100,arrowX:-100,arrowY:-100,arrowDeg:0,opacity:0})};return d.addEventListener("mousemove",_),d.addEventListener("mouseleave",T),()=>{d.removeEventListener("mousemove",_),d.removeEventListener("mouseleave",T)}}},[n,p]);const x={color:y&&y!==""?y:"#ffffff",backgroundColor:f&&f!==""?f:"var(--gray-800)"};return r.jsxs(r.Fragment,{children:[N.cloneElement(C,E),o.show&&S.createPortal(r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:u.TipPanel,style:{transform:`translate(${o.x}px,${o.y}px)`,opacity:o.opacity.toString(),...x},children:[r.jsx(L,{component:"span",variant:"caption"}),r.jsx("span",{dangerouslySetInnerHTML:{__html:j}})]}),r.jsx("div",{className:u.ArrowPanel,style:{transform:`translate(${o.arrowX}px,${o.arrowY}px)`,opacity:o.opacity.toString()},children:r.jsx("div",{className:u.ArrowCenter,style:{transform:`rotate(${o.arrowDeg}deg)`,opacity:o.opacity.toString()},children:r.jsx("div",{className:u.Arrow,style:x,children:"Â "})})})]}),document.body)]})}try{A.displayName="Tooltip",A.__docgenInfo={description:"",displayName:"Tooltip",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"enum",value:[{value:'"north"'},{value:'"east"'},{value:'"south"'},{value:'"west"'},{value:'"start"'},{value:'"end"'}]}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}}}}}catch{}export{A as T};
