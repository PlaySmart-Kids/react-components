import{a as A,j as s}from"./DefaultThemeProvider-BRxWeqUn.js";import{v as ve,h as Se,I as H,N as G}from"./VerticalSlider.module-Dlu2mDNt.js";import{h as Te,e as M,N as B,i as be,g as m,f as J,c as we,d as xe,j as Me}from"./ProfileLink-CUAQyePv.js";import{E as W,R as Ce}from"./index-DOJJSfO9.js";import{r as N}from"./index-BwDkhjyp.js";const K=N.forwardRef((C,Q)=>{const g=N.useRef(),[v,R]=N.useState(),{iconStart:U,iconEnd:Z,size:ee,color:te,hue:ne,onChange:_,disabled:$,max:V,min:h,step:q,showSteps:ae,fullWidth:ie,orientation:re,snapToStep:E}=C;N.useEffect(()=>{R(C.value)},[C.value]);const S=we(te),T=xe(ne),I=Math.max(V,h),D=Math.min(V,h),u=I-D,oe=Me(ee),le=typeof v=="string"?parseFloat(v):v||0,se=Math.max(Math.min(le,I),D),a=q?Math.abs(q):void 0,c=oe===Te.SMALL,P=c?12:20,z=c?4:8,k=c?6:12,b=u===0?0:(se-h)*100/u,F=100-b,n=re==="vertical",r=n?ve:Se,O=M("Background",S,T),ue=M("Border",S,B(B(T))),X=M("Background-alpha",S,be(T)),ce=M("Background",S,B(T)),de=M("Outline-alpha",S,T),pe=e=>{R(e.currentTarget.value),_&&_(e)},me=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.setAttribute("data-pressed-time",new Date().getTime().toFixed());const t=e.currentTarget.querySelectorAll("span");t.item(2).style.outlineWidth=`${k}px`},ge=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getAttribute("data-pressed-time"),d=e.currentTarget.querySelectorAll("span"),l=d.item(2);if(H(l.getBoundingClientRect(),e.clientX,e.clientY)?l.style.outlineWidth===""&&(l.style.outlineWidth=`${z}px`):l.style.outlineWidth!==""&&(l.style.outlineWidth=""),t!==null&&e.currentTarget.getAttribute("data-ignore-move")===null&&g.current){if(new Date().getTime()-parseInt(t)<100)return;const i=e.currentTarget.getBoundingClientRect();let o=n?i.height-(e.clientY-i.top):e.clientX-i.left;const p=n?i.height:i.width;o<0?o=0:o>p&&(o=p);let f=o/p*u+h;a&&E&&(f=Math.round(f/a)*a);const y=G(f,0,3);g.current.value=y,d.item(0).style.transition="none",d.item(1).style.transition="none",d.item(2).style.transition="none",j(y)}},he=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.removeAttribute("data-pressed-time");const t=e.currentTarget.querySelectorAll("span");t.item(0).style.transition="",t.item(1).style.transition="",t.item(2).style.transition="",t.item(2).style.outlineWidth=""};function j(e){const t={nativeEvent:new Event("change"),target:{value:e},currentTarget:{value:e},preventDefault:W,stopPropagation:W,persist:W,isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,bubbles:!1,cancelable:!1,timeStamp:Date.now(),type:"change"};R(e),_&&_(t)}const fe=e=>{if(e.currentTarget.getAttribute("data-pressed-time")==null)return;e.stopPropagation(),e.preventDefault();const t=e.currentTarget.getBoundingClientRect(),d=e.clientX,l=e.clientY;let i=n?t.height-(l-t.top):d-t.left;const o=n?t.height:t.width;if(i<0?i=0:i>o&&(i=o),g&&g.current){let p=i/o*u+h;a&&E&&(p=Math.round(p/a)*a);const f=G(p,0,3);g.current.value=f;const y=e.currentTarget.querySelectorAll("span"),w=e.currentTarget,x=y.item(2);x.style.outlineWidth=`${k}px`,x.style.transition="",y.item(0).style.transition="",y.item(1).style.transition="",w.removeAttribute("data-pressed-time");const L=w.getAttribute("data-ignore-move");L!=null&&window.clearInterval(parseInt(L));const Y=window.setInterval(()=>{w.getAttribute("data-pressed-time")===null&&(w.removeAttribute("data-ignore-move"),H(x.getBoundingClientRect(),d,l)?x.style.outlineWidth=`${z}px`:x.style.outlineWidth="",window.clearInterval(Y))},300);w.setAttribute("data-ignore-move",Y.toFixed()),j(f)}};function ye(){return ae&&a!==void 0&&a>0?s("div",{className:m(r.StepsPanel,c?r.SmallStepsPanel:void 0),style:{gridTemplateColumns:n?void 0:`repeat(${Math.round(u/a)},1fr)`,gridTemplateRows:n?`repeat(${Math.round(u/a)},1fr)`:void 0},children:Ce(1,Math.round(u/a)).map(e=>s("div",{className:ue,children:"Â "},`slider_step_${e}`))}):null}return A("div",{ref:Q,className:m(r.Root,c?r.RootSmall:void 0,ie?n?J.FullHeight:J.FullWidth:void 0),children:[s("div",{children:U}),A("div",{className:m(r.BarPanel),onClick:fe,onMouseDown:me,onMouseMove:ge,onMouseOut:he,children:[A("div",{className:m(r.Bar,c?r.SmallBar:void 0),children:[ye(),s("input",{ref:g,tabIndex:-1,type:"range",onChange:pe,disabled:$,max:V,min:h,step:q,value:v}),s("span",{className:m(n?X:O),style:{width:n?void 0:`${b}%`,height:n?`${F}%`:void 0}}),s("span",{className:m(n?O:X),style:{width:n?void 0:`${F}%`,height:n?`${b}%`:void 0}})]}),s("span",{className:m(r.Indicator,ce,de,c?r.IndicatorSmall:void 0),style:{left:n?void 0:`calc(${b}% - ${P/2}px)`,top:n?`calc(${100-b}% - ${P/2}px)`:void 0,pointerEvents:$?"none":void 0}})]}),s("div",{children:Z})]})});try{K.displayName="Slider",K.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},snapToStep:{defaultValue:null,description:"",name:"snapToStep",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string | SmallComponentSize"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},iconStart:{defaultValue:null,description:"",name:"iconStart",required:!1,type:{name:"ReactNode"}},iconEnd:{defaultValue:null,description:"",name:"iconEnd",required:!1,type:{name:"ReactNode"}},showSteps:{defaultValue:null,description:"",name:"showSteps",required:!1,type:{name:"boolean"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}}}}}catch{}export{K as S};
