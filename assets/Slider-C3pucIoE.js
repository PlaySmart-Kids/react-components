import{j as i}from"./jsx-runtime-CkxqCPlQ.js";import{I as Ee,v as qe,h as Fe,a as ne}from"./IndicatorLabel-DNRmLhG1.js";import{j as Me,k as W,G as Ae,l as $,m as Ne,N as ie,n as Ve,c as p,d as re,M as le,a as _e,C as je,f as De,g as Pe,o as We}from"./DefaultThemeProvider-DB5yquFP.js";import{E as z,R as $e}from"./index-DJbli8uv.js";import{N as E}from"./index-DjY7dx8f.js";import{S as B}from"./ShapeType-C4Gft0bY.js";import{r as M}from"./index-DJO9vBfz.js";import{G as L}from"./DomUtil-DAqrhrKT.js";const oe=M.forwardRef((r,se)=>{const v=M.useRef(),[S,q]=M.useState(),{iconStart:A,iconEnd:N,size:k,color:ue,hue:ce,onChange:F,disabled:G,max:V,min:b,step:_,showSteps:de,fullWidth:me,orientation:pe,snapToStep:O,thumbShape:j,labelPosition:D,labelRenderer:fe}=r;let s=r.minFraction===void 0?0:r.minFraction,u=r.maxFraction===void 0?0:r.maxFraction;if(s>u){const e=s;s=u,u=e}M.useEffect(()=>{r.value&&(typeof r.value=="string"?q(parseFloat(E(parseFloat(r.value),s,u))):q(parseFloat(E(r.value,s,u))))},[u,s,r.value]);const R=De(ue),I=Pe(ce),X=Math.max(V,b),Y=Math.min(V,b),f=X-Y,H=We(k),ge=typeof S=="string"?parseFloat(S):S||0,he=Math.max(Math.min(ge,X),Y),l=_?Math.abs(_):1,g=H===Me.SMALL,P=L(g?13:19),U=L(g?6:7),J=L(g?8:10),x=f===0?0:(he-b)*100/f,K=100-x,t=pe==="vertical",a=t?qe:Fe,Q=W(R,I),ye=Ae(R,$($(I))),Z=Ne(R,ie(I)),ve=W(R,$(I)),Se=Ve(R,I),be=e=>{q(parseFloat(E(parseFloat(e.currentTarget.value),s,u))),F&&F(e)},xe=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.setAttribute("data-pressed-time",new Date().getTime().toFixed());const n=e.currentTarget.querySelectorAll("span");n.item(2).style.outlineWidth=`${J}px`},Te=e=>{e.preventDefault(),e.stopPropagation();const n=e.currentTarget.getAttribute("data-pressed-time"),c=e.currentTarget.querySelectorAll("span"),m=c.item(2);if(ne(m.getBoundingClientRect(),e.clientX,e.clientY)?m.style.outlineWidth===""&&(m.style.outlineWidth=`${U}px`):m.style.outlineWidth!==""&&(m.style.outlineWidth=""),n!==null&&e.currentTarget.getAttribute("data-ignore-move")===null&&v.current){if(new Date().getTime()-parseInt(n)<100)return;const o=e.currentTarget.getBoundingClientRect();let d=t?o.height-(e.clientY-o.top):e.clientX-o.left;const h=t?o.height:o.width;d<0?d=0:d>h&&(d=h);let T=d/h*f+b;l&&O&&(T=Math.round(T/l)*l);const C=E(T,s,u);v.current.value=C,c.item(0).style.transition="none",c.item(1).style.transition="none",c.item(2).style.transition="none",e.currentTarget.querySelectorAll('div[data-label="true"]').forEach(y=>y.style.transition="none"),ee(C)}},Ce=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.removeAttribute("data-pressed-time");const n=e.currentTarget.querySelectorAll("span");n.item(0).style.transition="",n.item(1).style.transition="",n.item(2).style.transition="",n.item(2).style.outlineWidth="",e.currentTarget.querySelectorAll('div[data-label="true"]').forEach(c=>c.style.transition="")};function ee(e){const n={nativeEvent:new Event("change"),target:{value:e},currentTarget:{value:e},preventDefault:z,stopPropagation:z,persist:z,isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,bubbles:!1,cancelable:!1,timeStamp:Date.now(),type:"change"};q(parseFloat(e)),F&&F(n)}const Re=e=>{if(e.currentTarget.getAttribute("data-pressed-time")==null)return;e.stopPropagation(),e.preventDefault();const n=e.currentTarget.getBoundingClientRect(),c=e.clientX,m=e.clientY;let o=t?n.height-(m-n.top):c-n.left;const d=t?n.height:n.width;if(o<0?o=0:o>d&&(o=d),v&&v.current){let h=o/d*f+b;l&&O&&(h=Math.round(h/l)*l);const T=E(h,0,3);v.current.value=T;const C=e.currentTarget.querySelectorAll("span"),y=e.currentTarget,w=C.item(2);w.style.outlineWidth=`${J}px`,w.style.transition="",C.item(0).style.transition="",C.item(1).style.transition="",e.currentTarget.querySelectorAll('div[data-label="true"]').forEach(we=>we.style.transition=""),y.removeAttribute("data-pressed-time");const te=y.getAttribute("data-ignore-move");te!=null&&window.clearInterval(parseInt(te));const ae=window.setInterval(()=>{y.getAttribute("data-pressed-time")===null&&(y.removeAttribute("data-ignore-move"),ne(w.getBoundingClientRect(),c,m)?w.style.outlineWidth=`${U}px`:w.style.outlineWidth="",window.clearInterval(ae))},300);y.setAttribute("data-ignore-move",ae.toFixed()),ee(T)}};function Ie(){return de&&l!==void 0&&l>0?i.jsx("div",{className:p(a.StepsPanel,g?a.SmallStepsPanel:void 0),style:{gridTemplateColumns:t?void 0:`repeat(${Math.round(f/l)},1fr)`,gridTemplateRows:t?`repeat(${Math.round(f/l)},1fr)`:void 0},children:$e(1,Math.round(f/l)).map(e=>i.jsx("div",{className:ye,children:"Â "},`slider_step_${e}`))}):null}return i.jsxs("div",{ref:se,className:p(a.Root,g?a.RootSmall:void 0,me?t?re.FullHeight:re.FullWidth:void 0),children:[i.jsx("div",{children:typeof A=="string"?i.jsx(le,{name:A}):A}),i.jsxs("div",{className:p(a.BarPanel),onClick:Re,onMouseDown:xe,onMouseMove:Te,onMouseOut:Ce,children:[i.jsxs("div",{className:p(a.Bar,g?a.SmallBar:void 0,W(je.SECONDARY,ie(_e.LIGHT))),children:[Ie(),i.jsx("input",{ref:v,tabIndex:-1,type:"range",onChange:be,disabled:G,max:V,min:b,step:_,value:S}),i.jsx("span",{className:p(t?Z:Q),style:{width:t?void 0:`${x}%`,height:t?`${K}%`:void 0}}),i.jsx("span",{className:p(t?Q:Z),style:{width:t?void 0:`${K}%`,height:t?`${x}%`:void 0}})]}),D&&i.jsx(Ee,{size:H,className:p(a.IndicatorLabel,k==="small"?a.IndicatorSmallLabel:void 0,D==="start"?a.IndicatorLabelStart:a.IndicatorLabelEnd),minFraction:s,maxFraction:u,usedPercent:x,isVertical:t,indicatorSize:P,position:D,value:S,labelRenderer:fe}),i.jsx("span",{className:p(a.Indicator,j===B.CIRCLE?a.IndicatorCircle:j===B.ROUNDED?a.IndicatorRounded:j===B.RECTANGLE?a.IndicatorRectangle:a.IndicatorCircle,ve,Se,g?a.IndicatorSmall:void 0),style:{left:t?void 0:`calc(${x}% - ${P/2}px)`,top:t?`calc(${100-x}% - ${P/2}px)`:void 0,pointerEvents:G?"none":void 0}})]}),i.jsx("div",{children:typeof N=="string"?i.jsx(le,{name:N}):N})]})});try{oe.displayName="Slider",oe.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},snapToStep:{defaultValue:null,description:"",name:"snapToStep",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string | SmallComponentSize"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},thumbShape:{defaultValue:null,description:"",name:"thumbShape",required:!1,type:{name:"enum",value:[{value:'"circle"'},{value:'"rounded"'},{value:'"rectangle"'}]}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},iconStart:{defaultValue:null,description:"",name:"iconStart",required:!1,type:{name:"ReactNode"}},iconEnd:{defaultValue:null,description:"",name:"iconEnd",required:!1,type:{name:"ReactNode"}},showSteps:{defaultValue:null,description:"",name:"showSteps",required:!1,type:{name:"boolean"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},minFraction:{defaultValue:null,description:"",name:"minFraction",required:!1,type:{name:"number"}},maxFraction:{defaultValue:null,description:"",name:"maxFraction",required:!1,type:{name:"number"}},labelPosition:{defaultValue:null,description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"start"'},{value:'"end"'}]}},labelRenderer:{defaultValue:null,description:"",name:"labelRenderer",required:!1,type:{name:"((number: string | number) => ReactNode)"}}}}}catch{}export{oe as S};
