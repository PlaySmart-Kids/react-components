import{j as u}from"./jsx-runtime-CkxqCPlQ.js";import{r}from"./index-DJO9vBfz.js";import{f as se,g as ue,G as oe,h as ie,i as re,d as C,L as de,c as pe}from"./DefaultThemeProvider-DB5yquFP.js";import{C as e,P as ce,a as me}from"./InputUtil-CfDwzwTJ.js";const fe="_FitContent_4118g_1",he="_TagPanel_4118g_5",ge="_InputContainer_4118g_11",ye="_Label_4118g_19",I={FitContent:fe,TagPanel:he,InputContainer:ge,Label:ye};function Ce(t,o,i,n,d,p,V,L,q,f,v,c,s,_){t?(o.push(e.DisableBorder),o.push(e.DisableOutline),n.push(C.DisableTextColor),(d!=null&&d.length>0||p||!f)&&(n.push(e.LabelSmaller),n.push(e.LabelMoveUp)),i.push(C.DisableTextColor)):L||v!==""||q?(n.push(e.LabelMoveUp),n.push(e.LabelSmaller),n.push(c),o.push(e.FocusBorder),o.push(s),o.push(_),i.push(c)):((d!=null&&d.length>0||p||!f)&&(n.push(e.LabelSmaller),n.push(e.LabelMoveUp)),V?n.push(e.LabelActiveColor):n.push(e.LabelNormalColor),i.push(c),V?o.push(e.HoverBorder):o.push(e.NormalBorder))}const D=r.forwardRef((t,o)=>{const[i,n]=r.useState(""),[d,p]=r.useState(t.defaultValues?t.defaultValues:[]),[V,L]=r.useState(!1),[q,f]=r.useState(!1),[v,c]=r.useState(!1),s=t.values!==void 0?t.values:d===void 0?[]:d,_=()=>{c(!1),L(!0)},E=l=>{if(l.code==="Enter"){const a=w?w(l.currentTarget.value):l.currentTarget.value,y=a===null?[...s]:[...s,a];n(""),m&&m(y),p(y)}else if(l.code==="Backspace"&&s.length>0){const a=[...s];a.splice(a.length-1,1),n(""),m&&m(a),p(a)}},B=l=>{n(l.currentTarget.value)},k=l=>{L(!1),n("")},R=()=>{f(!0)},z=()=>{f(!1)},G=l=>{const a=l.currentTarget.querySelector("input");a&&a.focus()},{className:j,style:U,name:M,hint:h,maxLength:W,fullWidth:O,title:K,size:$,onChange:m,getLabelColor:P,disabled:x,startAdornment:J,endAdornment:Q,inputProps:X,tagMapper:w}=t,Y=r.useRef(null),g=[e.InputRoot],A=[e.Section],H=[e.Section,"body2"],S=[e.Label],F=[I.InputContainer],Z=[e.Input],b=se(t.color),T=ue(t.hue),ee=t.alwaysHighlight?t.alwaysHighlight:!1,te=t.shrinkTitle!==void 0?t.shrinkTitle:!0,ne=oe(b,T),ae=ie(b,T),le=re(b,T);return Ce(x,A,H,S,s,v,q,V,ee,te,h||"",ae,ne,le),ce(F,$),O?g.push(C.FullWidth):g.push(I.FitContent),x&&g.push(C.DisableEvent),j&&g.push(j),r.useEffect(()=>{p(t.defaultValues?t.defaultValues:[])},[t.defaultValues]),u.jsxs("div",{ref:o,className:g.join(" "),style:U,children:[u.jsxs("div",{className:A.join(" "),onClick:G,onMouseEnter:R,onMouseLeave:z,children:[M&&u.jsx("input",{type:"hidden",name:M,value:s}),u.jsx("span",{className:e.StartAdornmentContainer,children:J}),u.jsxs("span",{className:F.join(" "),children:[u.jsx("label",{className:S.join(" "),children:K}),s.map((l,a)=>u.jsx(de,{color:P?P(l):b,hue:T,title:l,className:pe(I.Label,t.values!==void 0?void 0:C.Pointer),onMouseUp:y=>{const N=[...s];N.splice(a,1),m&&m(N),p(N),y.stopPropagation(),y.preventDefault()}},`tag_${a}`)),u.jsx("div",{className:I.TagPanel,children:u.jsx("input",{ref:Y,className:Z.join(" "),...X,onAnimationStart:()=>{c(!0)},"data-hint":h!==""?h:void 0,maxLength:W,onFocus:_,onKeyDown:E,onBlur:k,onChange:B,value:i,disabled:x,size:Math.max(i==null?void 0:i.length,1),type:"text",autoComplete:"false"})})]}),u.jsx("span",{className:e.EndAdornmentContainer,children:Q})]}),me(H,h)]})});try{D.displayName="TagInput",D.__docgenInfo={description:"",displayName:"TagInput",props:{values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[]"}},defaultValues:{defaultValue:null,description:"",name:"defaultValues",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValue: string[]) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},getLabelColor:{defaultValue:null,description:"",name:"getLabelColor",required:!1,type:{name:"((value: string) => ColorType)"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>"}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"DefaultRenderer"}},alwaysHighlight:{defaultValue:null,description:"",name:"alwaysHighlight",required:!1,type:{name:"boolean"}},shrinkTitle:{defaultValue:null,description:"",name:"shrinkTitle",required:!1,type:{name:"boolean"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tagMapper:{defaultValue:null,description:"",name:"tagMapper",required:!1,type:{name:"((name: string) => string)"}}}}}catch{}export{D as T};
