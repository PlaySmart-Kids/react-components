import{j as t}from"./jsx-runtime-CkxqCPlQ.js";import{s as c}from"./Table.module-BnBQsvRO.js";import{r as g}from"./index-DJO9vBfz.js";import{f as ie,d as ne,e as _,C as A,H as de,a as R,b as T,G as L,T as G,D as ce}from"./DefaultThemeProvider-Ce-zb_Sa.js";import{C as ue}from"./Combobox-B0zNmVdd.js";import{P as he}from"./Pagination-CUoWq-tM.js";import{C as B}from"./Checkbox-BUtrGLoq.js";import"./Switch-Cc-4px2g.js";import{T as me}from"./Tooltip-HoePrzzf.js";import"./useTimeout-BASJc2V5.js";import{u as M}from"./useResizeObserver-vZQY_nc8.js";import{G as n}from"./DomUtil-Bdo5KM9z.js";import"./index-CikfRwdJ.js";import"./InputUtil-BONj-j-a.js";import"./Button-Cm1yCUKV.js";import"./ColorUtil-b9QtJkc2.js";import"./useRipple-BbkXZzvg.js";import"./IconButton-6cAcpLD7.js";import"./RadioButton-BgQOW4iM.js";import"./CheckboxUtil-CqPWmFQ9.js";import"./AlertButton-CCPNF3gP.js";import"./index-Cp9I2zMD.js";import"./ActionBar-BH2Q10LK.js";import"./index-DJbli8uv.js";const pe=o=>o.label===""?t.jsx("span",{children:"  "}):o.label;function F(o){const{footerAction:b,tbodyClassName:D,theadClassName:$,emptyWidget:j,borderRadius:u,footerWidget:v,onChangePagination:C,paginationInfo:l,headerFields:d,dataFields:f,rawData:p,hasSearch:Q,hasCheckbox:P,onSelectedItems:V,noShadow:I,compact:U,showOutline:O}=o,x=o.hue!==void 0?ie(o.hue):ne.LIGHT,N=o.color!==void 0?_(o.color):A.SECONDARY,X=o.shadowSize!==void 0?de(o.shadowSize):6,Z=o.shadowColor!==void 0?_(o.shadowColor):A.SECONDARY,[h,W]=g.useState({headerHeight:0,footerHeight:0,left:0,right:0,width:0,height:0,bodyHeight:0}),[m,k]=g.useState([]),[H,ee,te]=M(),[E,ae]=M();g.useEffect(()=>{if(H){const e=H,a=e.querySelector("thead");W(s=>({...s,headerHeight:a?a.clientHeight:0,footerHeight:l?46:0,left:e.offsetLeft,right:e.offsetLeft,width:e.clientWidth,height:e.clientHeight}))}},[l,te,H]),g.useEffect(()=>{let e;const a=E;if(a&&(e=a.parentElement),e&&a){const s=e,r=a;let i=0;!l&&r&&r.querySelectorAll("tr").forEach(z=>{i+=z.clientHeight}),W(z=>({...z,bodyHeight:i}));const w=s.getAttribute("data-width")===null||parseInt(s.getAttribute("data-width"))!==s.clientWidth;s.setAttribute("data-width",s.clientWidth.toString());const y=w?0:r.getAttribute("data-scroll-size")!==null?parseInt(r.getAttribute("data-scroll-size")):0,S=s.clientWidth-r.clientWidth;y!==S&&S<23&&(r.setAttribute("data-scroll-size",S.toString()),r.querySelectorAll("tr").forEach(z=>{z.style.width=`calc(100% + ${n(S)}px)`}))}},[E,l]),g.useEffect(()=>{V&&V(m)},[V,m]),g.useEffect(()=>{k([])},[o.rawData]);function le(e,a,s){return t.jsxs(t.Fragment,{children:[t.jsx(G,{variant:"body2",color:"text_primary",children:"Rows per page"}),t.jsx(ue,{label:"",onChange:r=>{l&&C&&C({page:l.page*l.pageSize/r,pageSize:r,totalPages:Math.ceil(l.totalRecords/r),totalRecords:l.totalRecords})},options:e.map(r=>({label:r.toString(),value:r})),listItemStyle:{className:c.PageSize},value:a.pageSize,size:"wrap"}),t.jsx(G,{variant:"body2",color:"text_primary",children:`${s*a.pageSize+1} - ${Math.min((s+1)*a.pageSize,a.totalRecords)} of ${a.totalRecords}`})]})}function oe(e,a){if(e===null)return null;const s=Math.min(e.page,e.totalRecords-1);return t.jsxs("tfoot",{className:c.TableFooter,style:{left:`${n(h.left)}px`,right:`${n(h.right)}px`},children:[e.totalRecords>0&&t.jsx("tr",{children:t.jsxs("td",{children:[le(a,e,s),t.jsx("div",{})," ",t.jsx(he,{color:N,hue:x,size:"small",totalPages:e.totalPages,onChange:r=>{C&&l&&C({page:r-1,pageSize:l.pageSize,totalPages:l.totalPages,totalRecords:l.totalRecords})},page:e.page+1}),b]})}),e.totalRecords<=0&&b&&t.jsx("tr",{children:t.jsx("td",{style:{display:"flex",justifyContent:"end"},children:b})})]})}function se(){return()=>{m.length>0?k([]):k([...p])}}function re(e){return a=>{if(a.target.checked)k([...m,p[e]]);else{const s=m.findIndex(r=>r===p[e]);if(s>=0){const r=[...m];r.splice(s,1),k(r)}}}}return t.jsxs(t.Fragment,{children:[(I===void 0||!I)&&t.jsx("div",{className:R(c.ShadowPanel,T[`Shadow-${X}-${Z}-${x}`],O?c.TableOutline:void 0,O?T[`Outline-${N}-${x}`]:void 0),style:{width:n(h.width-1)+"px",borderRadius:`${n(u!==void 0?u:20)}px`,height:l===void 0?n(h.headerHeight+h.bodyHeight)+"px":""}}),t.jsxs("table",{ref:ee,className:R(l?c.RootWithFooter:c.RootWithoutFooter,U?c.CompactCell:void 0),children:[t.jsxs("thead",{className:R(c.TableHead,$?" "+$:void 0,T[`Background-${N}-${x}`],T[`Color-${N}-${L(x)}`]),children:[t.jsx("tr",{children:d.map((e,a,s)=>t.jsxs("th",{className:"subtitle2 "+(e.className?e.className:""),style:{...a===0?{borderTopLeftRadius:`${n(u||20)}px`}:{},...a+1===s.length?{borderTopRightRadius:`${n(u||20)}px`}:{},...e.style,paddingInlineStart:P&&a===0?`${n(40)}px`:void 0},children:[P&&a===0&&p.length>0&&t.jsx("div",{className:c.CheckboxPosition,children:t.jsx(B,{color:N,hue:L(x),title:"",size:"small",startIconWithDefinedColor:!0,checked:m.length>0,indeterminate:m.length<p.length,onChange:se()})}),e.renderer?e.renderer(e):pe(e)]},`${e.key}_${a}`))}),d.findIndex(e=>e.searchRenderer)>=0&&t.jsx("tr",{className:c.SearchPanel,style:{display:Q?void 0:"none"},children:d.map((e,a,s)=>t.jsx("th",{className:"subtitle2 "+(e.className?e.className:""),style:{...a===0?{borderTopLeftRadius:`${n(u||20)}px`}:{},...a+1===s.length?{borderTopRightRadius:`${n(u||20)}px`}:{},...e.style},children:e.searchRenderer?e.searchRenderer(e):t.jsx("span",{children:" "})},`${e.key}_${a}`))})]}),t.jsxs("tbody",{ref:ae,className:D,style:{height:l===void 0?void 0:`calc(100% - ${n(h.headerHeight)}px - ${n(h.footerHeight)}px)`,top:`${n(h.headerHeight)}px`,left:`${n(h.left)}px`,width:`${n(h.width)}px`},children:[p.map((e,a)=>{const s=m.findIndex(i=>i===p[a])>=0,r=m.length;return t.jsx("tr",{className:R(l?c.TableRowWithFooter:c.TableRowWithoutFooter,f.length>0&&f[0].rowClassName?" "+f[0].rowClassName(p[a],s,r):""),children:f.map((i,w)=>{let y=i.tooltip?typeof i.tooltip=="string"?i.tooltip:i.tooltip(e,s,r):void 0;y===""&&(y=void 0);const S=t.jsxs("td",{className:typeof i.className=="string"?i.className:i.className!==void 0?i.className(e,s,r):void 0,style:{...i.style,paddingInlineStart:P&&w===0?`${n(40)}px`:void 0},children:[P&&w===0&&t.jsx("div",{className:c.CheckboxPosition,children:t.jsx(B,{color:N,hue:x,title:"",size:"small",checked:s,onChange:re(a)})}),i.renderer?i.renderer(e,s,r):e[i.key]!==void 0&&e[i.key]!==""&&e[i.key]!==null?e[i.key]:y?"∅":" "]},y?void 0:`data-${i.key}-${w}`);return y?t.jsx(me,{title:y,children:S},`data-${i.key}-${w}`):S})},`data-row-${a}`)}),p.length===0&&j&&t.jsx("tr",{children:t.jsx("td",{colSpan:f.length,style:{width:n(h.width)+"px"},children:j})}),v&&t.jsx("tr",{children:t.jsx("td",{colSpan:d.length,children:v})})]}),l&&oe({page:l.page,pageSize:l.pageSize,totalPages:l.totalPages,totalRecords:l.totalRecords},l==null?void 0:l.pageSizeOptions)]})]})}try{F.displayName="DataTable",F.__docgenInfo={description:"",displayName:"DataTable",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},shadowSize:{defaultValue:null,description:"",name:"shadowSize",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"}]}},shadowColor:{defaultValue:null,description:"",name:"shadowColor",required:!1,type:{name:"string"}},headerFields:{defaultValue:null,description:"",name:"headerFields",required:!0,type:{name:"HeaderField[]"}},dataFields:{defaultValue:null,description:"",name:"dataFields",required:!0,type:{name:"DataField<T>[]"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},rawData:{defaultValue:null,description:"",name:"rawData",required:!0,type:{name:"T[]"}},footerWidget:{defaultValue:null,description:"",name:"footerWidget",required:!1,type:{name:"ReactNode"}},paginationInfo:{defaultValue:null,description:"",name:"paginationInfo",required:!1,type:{name:"FooterInfo"}},onChangePagination:{defaultValue:null,description:"",name:"onChangePagination",required:!1,type:{name:"((pagination: PaginationInfo) => void)"}},emptyWidget:{defaultValue:null,description:"",name:"emptyWidget",required:!1,type:{name:"ReactNode"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"number"}},tbodyClassName:{defaultValue:null,description:"",name:"tbodyClassName",required:!1,type:{name:"string"}},theadClassName:{defaultValue:null,description:"",name:"theadClassName",required:!1,type:{name:"string"}},footerAction:{defaultValue:null,description:"",name:"footerAction",required:!1,type:{name:"ReactNode"}},hasSearch:{defaultValue:null,description:"",name:"hasSearch",required:!1,type:{name:"boolean"}},hasCheckbox:{defaultValue:null,description:"",name:"hasCheckbox",required:!1,type:{name:"boolean"}},onSelectedItems:{defaultValue:null,description:"",name:"onSelectedItems",required:!1,type:{name:"((items: T[]) => void)"}},noShadow:{defaultValue:null,description:"",name:"noShadow",required:!1,type:{name:"boolean"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},showOutline:{defaultValue:null,description:"",name:"showOutline",required:!1,type:{name:"boolean"}}}}}catch{}const ge=[{label:"Name",key:"name",className:"cell2"},{label:"Notes",key:"notes",className:"cell3"},{label:"Date created",key:"dateCreated",className:"cell4"},{label:"Expiration Date",key:"expiredDate",className:"cell5"},{label:"Status",key:"status",className:"cell6"}],fe=[{key:"name",className:"cell2"},{key:"notes",className:"cell3"},{key:"dateCreated",className:"cell4"},{key:"expiredDate",className:"cell5"},{key:"status",className:"cell6"}];function ye(o){const{hasPagination:b}=o,[D,$]=g.useState(0),[j,u]=g.useState(0),[v,C]=g.useState(12),l=[];for(let d=1;d<=100;d++)l.push({name:"Name "+d,notes:"Note#"+d,dateCreated:"03/20/2023",expiredDate:"03/20/2023",status:"Status"});return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`
            .cell2 {
              width: 30%;
              text-align: center;
            }
            .cell3 {
              width: 30%;
              text-align: center;
            }
            .cell4 {
              width: 15%;
              text-align: center;
            }
            .cell5 {
              width: 15%;
              text-align: center;
            }
            .cell6 {
              width: 10%;
              text-align: center;
            }
            `}),t.jsx("div",{style:{width:"calc(100% - 80px)",height:b?"calc(100vh - 40px)":void 0,marginInline:"40px",marginBlock:"20px",position:"relative"},children:t.jsx(F,{showOutline:o.showOutline,compact:o.compact,color:o.color,hue:o.hue,borderRadius:o.borderRadius,shadowSize:o.shadowSize,shadowColor:o.shadowColor,hasCheckbox:o.hasCheckbox,headerFields:ge,dataFields:fe,rawData:b?l.filter((d,f)=>f>=j&&f<j+v):l,paginationInfo:b?{pageSize:v,totalPages:Math.ceil(l.length/v),page:D,pageSizeOptions:[12,30,40],totalRecords:l.length,numberOfPages:3}:void 0,onChangePagination:d=>{$(d.page),u(d.page*d.pageSize),C(d.pageSize)}})})]})}const Ae={title:"CLIENTS/ui/table/DataTable",component:ye,decorators:[o=>t.jsx(ce,{children:t.jsx(o,{})})],parameters:{},argTypes:{color:{options:["primary","info","success","warning","error","secondary"],control:{type:"radio"}},hue:{options:["lightest","lighter","light","main","dark","darker","darkest"],control:{type:"radio"}},shadowSize:{defaultValue:4,options:[0,1,2,6,4,8,12,16,20,24],control:{type:"radio"}},shadowColor:{options:[void 0,"primary","info","success","warning","error","secondary"],control:{type:"radio"}},hasPagination:{type:"boolean",defaultValue:!0}}},q={args:{color:"secondary",hue:"lighter",shadowSize:6,hasCheckbox:!0,borderRadius:16,shadowColor:void 0,hasPagination:!0,compact:!1,showOutline:!1}};var Y,J,K;q.parameters={...q.parameters,docs:{...(Y=q.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    color: 'secondary',
    hue: 'lighter',
    shadowSize: 6,
    hasCheckbox: true,
    borderRadius: 16,
    shadowColor: undefined,
    hasPagination: true,
    compact: false,
    showOutline: false
  }
}`,...(K=(J=q.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};const Le=["Demo"];export{q as Demo,Le as __namedExportsOrder,Ae as default};
