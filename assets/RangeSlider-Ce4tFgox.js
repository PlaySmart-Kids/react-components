import{j as a}from"./jsx-runtime-CkxqCPlQ.js";import{v as Re,h as Te,I as re}from"./VerticalSlider.module-L3AsejcK.js";import{h as be,g as $,N as Y,i as Ce,a as h,b as ae,e as $e,f as _e,j as Ne}from"./DefaultThemeProvider-Ce-zb_Sa.js";import{R as We}from"./index-DJbli8uv.js";import{N as je}from"./index-BAi5cnyf.js";import{r as _}from"./index-DJO9vBfz.js";const ie=_.forwardRef((w,oe)=>{const[I,k]=_.useState(w.values),u=_.useRef(),c=_.useRef(),{iconStart:le,iconEnd:se,size:ue,color:ce,hue:de,onChange:N,disabled:W,max:j,min:f,step:q,showSteps:pe,fullWidth:me,orientation:he,snapToStep:U}=w;_.useEffect(()=>{k(e=>e[0]===w.values[0]&&e[1]===w.values[1]?e:w.values)},[w.values]);const M=$e(ce),R=_e(de),E=Math.max(j,f),F=Math.min(j,f),d=E-F,fe=Ne(ue);let A=Math.min(I[0],I[1]),B=Math.max(I[0],I[1]);A=Math.max(Math.min(A,E),F),B=Math.max(Math.min(B,E),F);const i=q?Math.abs(q):void 0,g=fe===be.SMALL,z=g?12:20,H=g?4:8,D=g?6:12,V=d===0?0:(A-f)*100/d,T=d===0?0:(B-f)*100/d,G=100-T,n=he==="vertical",o=n?Re:Te,J=$("Background",M,R),ge=$("Border",M,Y(Y(R))),P=$("Background-alpha",M,Ce(R)),K=$("Background",M,Y(R)),Q=$("Outline-alpha",M,R),Z=e=>{if(!u.current||!c.current)return;const t=parseFloat(u.current.value),p=[parseFloat(c.current.value),t];k(p),N&&N(p)},ye=e=>{if(!u.current||!c.current)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget.querySelectorAll("span"),r=t.item(3),p=t.item(4),m=L(r,e.clientX,e.clientY),x=L(p,e.clientX,e.clientY);m?(t.item(3).style.outlineWidth=`${D}px`,t.item(4).style.outlineWidth="",e.currentTarget.setAttribute("data-pressed-from","upper")):x&&(t.item(4).style.outlineWidth=`${D}px`,t.item(3).style.outlineWidth="",e.currentTarget.setAttribute("data-pressed-from","lower"))},L=(e,t,r)=>re(e.getBoundingClientRect(),t,r)?(e.style.outlineWidth===""&&(e.style.outlineWidth=`${H}px`),!0):(e.style.outlineWidth!==""&&(e.style.outlineWidth=""),!1),ve=e=>{if(!u.current||!c.current)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getAttribute("data-pressed-from"),r=e.currentTarget.querySelectorAll("span"),p=r.item(3),m=r.item(4),x=t==="upper"?p:m,l=t==="upper"?u:c;if(t!==null&&e.currentTarget.getAttribute("data-ignore-move")===null&&l.current){L(x,e.clientX,e.clientY);const y=e.currentTarget.getBoundingClientRect();let v=n?y.height-(e.clientY-y.top):e.clientX-y.left;const S=n?y.height:y.width;v<0?v=0:v>S&&(v=S);let s=v/S*d+f;i&&U&&(s=Math.round(s/i)*i);const X=t==="upper"?[I[0],s]:[s,I[1]];r.item(0).style.transition="none",r.item(1).style.transition="none",r.item(2).style.transition="none",r.item(3).style.transition="none",r.item(4).style.transition="none",ee(X)}},Se=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.removeAttribute("data-pressed-from");const t=e.currentTarget.querySelectorAll("span");t.item(0).style.transition="",t.item(1).style.transition="",t.item(2).style.transition="",t.item(3).style.transition="",t.item(4).style.transition="",t.item(3).style.outlineWidth="",t.item(4).style.outlineWidth=""};function ee(e){k(e),N&&N(e)}const we=e=>{if(!u.current||!c.current)return;e.stopPropagation(),e.preventDefault();const t=e.currentTarget.getBoundingClientRect(),r=e.clientX,p=e.clientY;let m=n?t.height-(p-t.top):r-t.left;const x=n?t.height:t.width;m<0?m=0:m>x&&(m=x);let l=m/x*d+f;i&&U&&(l=Math.round(l/i)*i);const y=parseFloat(u.current.value),v=parseFloat(c.current.value),S=(y+v)/2,s=e.currentTarget.querySelectorAll("span"),X=s.item(3),Ie=s.item(4),O=l<S?c:u,b=l<S?Ie:X,Ve=l>=S?l:y,Me=[l<S?l:v,Ve];if(O&&O.current){O.current.value=je(l,0,3);const C=e.currentTarget;b.style.outlineWidth=`${D}px`,b.style.transition="",s.item(0).style.transition="",s.item(1).style.transition="",s.item(2).style.transition="",C.removeAttribute("data-pressed-from");const te=C.getAttribute("data-ignore-move");te!=null&&window.clearInterval(parseInt(te));const ne=window.setInterval(()=>{C.getAttribute("data-pressed-from")===null&&(C.removeAttribute("data-ignore-move"),re(b.getBoundingClientRect(),r,p)?b.style.outlineWidth=`${H}px`:b.style.outlineWidth="",window.clearInterval(ne))},300);C.setAttribute("data-ignore-move",ne.toFixed()),ee(Me)}};function xe(){return pe&&i!==void 0&&i>0?a.jsx("div",{className:h(o.StepsPanel,g?o.SmallStepsPanel:void 0),style:{gridTemplateColumns:n?void 0:`repeat(${Math.round(d/i)},1fr)`,gridTemplateRows:n?`repeat(${Math.round(d/i)},1fr)`:void 0},children:We(1,Math.round(d/i)).map(e=>a.jsx("div",{className:ge,children:"Â "},`slider_step_${e}`))}):null}return a.jsxs("div",{ref:oe,className:h(o.Root,g?o.RootSmall:void 0,me?n?ae.FullHeight:ae.FullWidth:void 0),children:[a.jsx("div",{children:le}),a.jsxs("div",{className:h(o.BarPanel),onClick:we,onMouseDown:ye,onMouseMove:ve,onMouseOut:Se,children:[a.jsxs("div",{className:h(o.Bar,g?o.SmallBar:void 0),children:[xe(),a.jsx("input",{ref:c,tabIndex:-1,type:"range",onChange:Z,"data-indicator-type":"lower",disabled:W,max:j,min:f,step:q,value:A}),a.jsx("input",{ref:u,tabIndex:-1,type:"range","data-indicator-type":"upper",onChange:Z,disabled:W,max:j,min:f,step:q,value:B}),a.jsx("span",{className:h(P),style:{width:n?void 0:`${V}%`,height:n?`${G}%`:void 0}}),a.jsx("span",{className:h(J),style:{width:n?void 0:`${T-V}%`,height:n?`${T-V}%`:void 0}}),a.jsx("span",{className:h(P),style:{width:n?void 0:`${G}%`,height:n?`${V}%`:void 0}})]}),a.jsx("span",{className:h(o.Indicator,K,Q,g?o.IndicatorSmall:void 0),"data-indicator-type":"upper",style:{left:n?void 0:`calc(${T}% - ${z/2}px)`,top:n?`calc(${100-T}% - ${z/2}px)`:void 0,pointerEvents:W?"none":void 0}}),a.jsx("span",{className:h(o.Indicator,K,Q,g?o.IndicatorSmall:void 0),"data-indicator-type":"lower",style:{left:n?void 0:`calc(${V}% - ${z/2}px)`,top:n?`calc(${100-V}% - ${z/2}px)`:void 0,pointerEvents:W?"none":void 0}})]}),a.jsx("div",{children:se})]})});try{ie.displayName="RangeSlider",ie.__docgenInfo={description:"",displayName:"RangeSlider",props:{iconStart:{defaultValue:null,description:"",name:"iconStart",required:!1,type:{name:"ReactNode"}},iconEnd:{defaultValue:null,description:"",name:"iconEnd",required:!1,type:{name:"ReactNode"}},hue:{defaultValue:null,description:"",name:"hue",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string | SmallComponentSize"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},snapToStep:{defaultValue:null,description:"",name:"snapToStep",required:!1,type:{name:"boolean"}},showSteps:{defaultValue:null,description:"",name:"showSteps",required:!1,type:{name:"boolean"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"number[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: number[]) => void"}}}}}catch{}export{ie as R};
