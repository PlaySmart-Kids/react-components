import{j as a}from"./jsx-runtime-CkxqCPlQ.js";import{r as o}from"./index-DJO9vBfz.js";import{r as v}from"./index-Cp9I2zMD.js";import"./useTimeout-BASJc2V5.js";function w(){const[t,e]=o.useState(null);return o.useEffect(()=>{const i=()=>{e({width:window.innerWidth,height:window.innerHeight})};return t==null&&e({width:window.innerWidth,height:window.innerHeight}),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[t]),t}const E="_Backdrop_1iyao_1",y="_Popup_1iyao_14",c={Backdrop:E,Popup:y};function _(t,e){for(;e!==t&&e;)e=e==null?void 0:e.parentElement;return e===t}function d(t){const{shiftY:e,shiftX:i,onClose:u,anchorRef:s,children:p,anchor:g}=t,r=o.useRef(null),f=w(),[l,m]=o.useState({left:0,top:0});return o.useEffect(()=>{const n=h=>{_(r.current,h.target)||u&&u()};return r&&r.current&&(document.addEventListener("click",n,!0),document.addEventListener("wheel",n,!0)),()=>{r&&r.current&&(document.removeEventListener("click",n,!0),document.removeEventListener("wheel",n,!0))}},[u,r]),o.useEffect(()=>{if(s){const n=s.getBoundingClientRect();m({left:n.left+(i||0),top:n.top+n.height+(e||0)})}},[f,s]),s?v.createPortal(a.jsx(a.Fragment,{children:a.jsx("div",{ref:r,className:c.Backdrop,children:a.jsx("div",{className:c.Popup,style:{top:l.top,left:l.left},children:p})})}),document.body):null}try{d.displayName="Popover",d.__docgenInfo={description:"",displayName:"Popover",props:{anchorRef:{defaultValue:null,description:"",name:"anchorRef",required:!1,type:{name:"HTMLElement"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"enum",value:[{value:'"north"'},{value:'"east"'},{value:'"south"'},{value:'"west"'},{value:'"start"'},{value:'"end"'}]}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},shiftX:{defaultValue:null,description:"",name:"shiftX",required:!1,type:{name:"number"}},shiftY:{defaultValue:null,description:"",name:"shiftY",required:!1,type:{name:"number"}}}}}catch{}export{d as P};
